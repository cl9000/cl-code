<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Weichanglu</title>
  <icon>https://www.gravatar.com/avatar/749a0cb196d7f8d7b7f41d5a5fa372e4</icon>
  <subtitle>For the next quantum leap 离开世界之前，一切都是过程</subtitle>
  <link href="/feed.xml" rel="self"/>
  
  <link href="https://cl9000.github.io/"/>
  <updated>2020-03-08T15:36:40.703Z</updated>
  <id>https://cl9000.github.io/</id>
  
  <author>
    <name>cl9000</name>
    <email>cl9000@126.com</email>
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Docker</title>
    <link href="https://cl9000.github.io/2020/01/17/Docker/"/>
    <id>https://cl9000.github.io/2020/01/17/Docker/</id>
    <published>2020-01-17T06:11:39.000Z</published>
    <updated>2020-03-08T15:36:40.703Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="docker">docker</span></h3><blockquote><p><a href="https://dashboard.daocloud.io/cluster-private/a8b80bb5-bc0f-4b58-80d7-270586d4692b" target="_blank" rel="noopener">DaoCloud Services - dashboard.daocloud</a><br><a href="http://guide-wiki.daocloud.io:8090/dcs/daocloud-services-9152632.html" target="_blank" rel="noopener">DaoCloud Services 文档</a><br><a href="https://www.runoob.com/docker/docker-compose.html" target="_blank" rel="noopener">菜鸟教程 - Docker</a><br><a href="https://blog.csdn.net/tony1130/article/details/53181071" target="_blank" rel="noopener">在MacOS下，Docker　images保存在哪个路径下</a><br><a href="https://blog.csdn.net/jiangyu1013/article/details/84572582" target="_blank" rel="noopener">Docker 方式 部署 vue 项目 （docker + vue + nginx）</a><br><a href="https://blog.csdn.net/jason_jeson/article/details/78200623" target="_blank" rel="noopener">Docker 通过Nginx镜像部署Vue项目</a><br><a href="https://yeasy.gitbooks.io/docker_practice/network/dns.html" target="_blank" rel="noopener">Docker —— 从入门到实践</a><br><a href="https://tvvo.gitbooks.io/cloud-insight-docs/content/chapter1.html" target="_blank" rel="noopener">Cloud Insight文档中心</a></p></blockquote><h3><span id="docker-compose">docker-compose</span></h3><p><strong>docker-compose ERROR</strong></p><figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ERROR</span>: <span class="keyword">Version</span> <span class="keyword">in</span> <span class="string">"./docker-compose.yml"</span> is unsupported. </span><br><span class="line">You might be seeing this <span class="keyword">error</span> because you're using the wrong Compose <span class="keyword">file</span> <span class="keyword">version</span>. </span><br><span class="line">Either specify a <span class="keyword">version</span> of <span class="string">"2"</span> (or <span class="string">"2.0"</span>) and place your service definitions </span><br><span class="line">under the `services` key, or omit the `<span class="keyword">version</span>` key and place your service definitions at the root of the <span class="keyword">file</span> to <span class="keyword">use</span> <span class="keyword">version</span> 1.</span><br><span class="line"><span class="keyword">For</span> <span class="keyword">more</span> <span class="keyword">on</span> the Compose <span class="keyword">file</span> <span class="keyword">format</span> versions, see https:<span class="comment">//docs.docker.com/compose/compose-file/</span></span><br></pre></td></tr></table></figure><p>参考方案：<br><a href="https://stackoverflow.com/questions/57456212/error-version-in-docker-compose-yml-is-unsupported" target="_blank" rel="noopener">1-ERROR: Version in “./docker-compose.yml” is unsupported</a><br><a href="https://stackoverflow.com/questions/42139982/version-in-docker-compose-yml-is-unsupported-you-might-be-seeing-this-error/49407448#49407448" target="_blank" rel="noopener">2-ERROR: Version in “./docker-compose.yml” is unsupported</a><br>解决方案：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> rm /usr/<span class="built_in">local</span>/bin/docker-compose</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> sudo curl -L <span class="string">"https://github.com/docker/compose/releases/download/1.24.1/docker-compose-<span class="variable">$(uname -s)</span>-<span class="variable">$(uname -m)</span>"</span> -o /usr/<span class="built_in">local</span>/bin/docker-compose</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> chmod +x /usr/<span class="built_in">local</span>/bin/docker-compose</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> docker-compose --version</span></span><br></pre></td></tr></table></figure><p><a href="https://www.hi-linux.com/posts/12554.html?spm=a2c4e.10696291.0.0.6b3219a4a5aIgH" target="_blank" rel="noopener">运维之美 - 使用 Docker-Compose 编排容器</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3&gt;&lt;span id=&quot;docker&quot;&gt;docker&lt;/span&gt;&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://dashboard.daocloud.io/cluster-private/a8b80bb5-bc0f-4b58-80d7-2705
      
    
    </summary>
    
    
    
      <category term="Docker" scheme="https://cl9000.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客部署到Coding、Gitee、GitHub</title>
    <link href="https://cl9000.github.io/2019/12/20/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0Coding-gitee-GitHub/"/>
    <id>https://cl9000.github.io/2019/12/20/Hexo%E5%8D%9A%E5%AE%A2%E9%83%A8%E7%BD%B2%E5%88%B0Coding-gitee-GitHub/</id>
    <published>2019-12-20T03:01:53.000Z</published>
    <updated>2020-04-20T04:58:43.821Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="hexo博客部署到coding-gitee-github">Hexo博客部署到Coding、gitee、GitHub</span></h2><p>由于Coding平台进行了更新，Hexo博客部署到 新版Coding 和 gitee 等平台，GitHub已经前面介绍过，现在更新部署流程，希望能够帮到搭建博客的小伙伴们，如果教程有错，希望大家能够指出来，我会及时修改的，谢谢大家的支持！</p><!-- ![本地图片](/NationalDay70_1920x1080.jpg) --><h2><span id="coding平台">Coding平台</span></h2><ol><li>首先去去<a href="https://coding.net/" target="_blank" rel="noopener">Coding官网注册</a>账号，进入官网，选择免费注册。</li></ol><!-- ![本地图片](/0.jpg) --><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/0.jpg" width="400" height="600" alt="图片名称" align="center"><ol start="2"><li>注册完成之后就会进入主页面，然后点击创建新项目，如下图:<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/1.jpg" alt="本地图片"></li></ol><blockquote><ul><li>代码托管项目：用于托管代码仓库，支持多个仓库，并可选择开启 CI/CD 和制品库功能</li><li>项目管理项目：支持 Scrum 敏捷管理和传统任务管理项目，包含需求、任务和缺陷</li><li>DevOps项目：包含项目管理、代码托管、CI/CD 和制品库等功能，提供完整的研发流程</li></ul></blockquote><p><code>可以点进去看看各个项目模板的用处。</code><br>在这里我们选择第三个，DevOps项目，这个含有构建与部署功能。</p><ol start="3"><li><p>选择第三个DevOps项目后，会出现下面的页面：<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/2.jpg" alt="本地图片"></p></li><li><p>设置公钥，可以设置全局、针对单个项目的。<br>4.1、 单项目的公钥，如下图：<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/3.jpg" alt="本地图片"><br>4.2、 全局公钥 - (设置了真多项目的可以跳过这一步)<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/4.jpg" alt="本地图片"><br><strong>公钥可以使用Github，或原来已经生成的。</strong></p></li></ol><blockquote><p>Mac，查看<code>ssh</code></p></blockquote><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls -al ~/.ssh  // 查看是否存在，不存在的话，可使用Mac自带的ssh 新生成一个。</span><br><span class="line">// 存在</span><br><span class="line">cat id_rsa.pub</span><br></pre></td></tr></table></figure><p>复制 <code>ssh - 结尾</code>，粘贴到新增的密钥中，名称自定义，选择 <code>永久有效</code>，然后新建。<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/5.jpg" alt="本地图片"><br>测试验证：<br><code>$ ssh -T git@git.coding.net</code><br>第一次建立连接会要求信任主机，输入相关的用户名或者密码，在控制台输入验证，验证成功即可。</p><ol start="5"><li>然后复制你的项目地址，粘贴到配置文件 <code>_config.yml</code>，如图所示：<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/6.jpg" alt="本地图片"><br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/7.jpg" alt="本地图片"></li></ol><p>然后再执行 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code> 部署，这是仓库中便有了部署代码。</p><ol start="6"><li>打开 coding 的管理页面，找到 静态网站，发布静态网站。<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/8.jpg" alt="本地图片"><br>填写基本的信息，点击保存：<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/9.jpg" alt="本地图片"><br>点击保存，就会进入下一个页面：<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/10.jpg" alt="本地图片"><br>首次点击 <code>立即部署</code> ，之后就会有部署记录，若需要配置自己的域名，点击上图的 <code>设置</code> 进行设置：<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/11.jpg" alt="本地图片"></li><li>Coding 里面还有些其它的扩展功能，项目协调、制品库、测试管理、文档管理等。这也是一些公司的流程，自己可以尝试下。</li></ol><h2><span id="gitee平台码云">Gitee平台（码云）</span></h2><ol><li>流程基本一致，比较简单，<a href="https://gitee.com/" target="_blank" rel="noopener">码云官网注册</a></li><li>建立仓库，添加公钥，配置本地仓库地址<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/12.jpg" alt="本地图片"></li><li>上传部署博客代码 <code>$ hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</code></li><li>点击 <code>服务 - Gitee Pages</code>，进入页面查看相关规则，点击部署即可，<br><img src="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/13.jpg" alt="本地图片"></li></ol><p>Gitee 平台，免费版不会自动部署<br>Gitee 可以同步其它的仓库代码，例如GitHub，如果已部署了GitHub可直接拉取，部署，更快捷。</p><h2><span id="参考">参考</span></h2><p><a href="https://cloud.tencent.com/developer/article/1580237" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1580237</a></p><br><blockquote style="border-left: 4px solid #3F51B5;padding: 16px 20px;font-size: 14px;border-radius: 0 2px 2px 0;">    <p>本文地址：    <a href="/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/" target="_blank" rel="external">/2019/12/20/Hexo博客部署到Coding-gitee-GitHub/</a></p></blockquote><br>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;hexo博客部署到coding-gitee-github&quot;&gt;Hexo博客部署到Coding、gitee、GitHub&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;由于Coding平台进行了更新，Hexo博客部署到 新版Coding 和 gitee 等平台，GitHu
      
    
    </summary>
    
    
    
      <category term="HEXO" scheme="https://cl9000.github.io/tags/HEXO/"/>
    
      <category term="GitHub" scheme="https://cl9000.github.io/tags/GitHub/"/>
    
      <category term="Coding" scheme="https://cl9000.github.io/tags/Coding/"/>
    
      <category term="Gitee" scheme="https://cl9000.github.io/tags/Gitee/"/>
    
      <category term="码云" scheme="https://cl9000.github.io/tags/%E7%A0%81%E4%BA%91/"/>
    
  </entry>
  
  <entry>
    <title>Karma + Jasmine 构建 Web 测试环境</title>
    <link href="https://cl9000.github.io/2018/03/18/Karma-Jasmine-%E6%9E%84%E5%BB%BA-Web-%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83/"/>
    <id>https://cl9000.github.io/2018/03/18/Karma-Jasmine-%E6%9E%84%E5%BB%BA-Web-%E6%B5%8B%E8%AF%95%E7%8E%AF%E5%A2%83/</id>
    <published>2018-03-18T09:38:50.000Z</published>
    <updated>2020-03-19T03:13:28.960Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="karma-jasmine-构建-web-测试环境">Karma + Jasmine 构建 Web 测试环境</span></h3><h3><span id="jasmine-简介">Jasmine 简介</span></h3><!-- <img src="https://cdn.wispx.cn/wallpaper/bing/2019/02/12/d4f42aedc672561334500d26f3f846f5.jpg!blog.thumb" alt=""> --><!-- ![](https://jasmine.github.io/images/jasmine-white-horizontal.svg) --><p><img src="https://jasmine.github.io/images/jasmine-horizontal.svg" alt><br><code>Jasmine</code> 是一款 JavaScript BDD（行为驱动开发）测试框架，它不依赖于其他任何 JavaScript 组件。它有干净清晰的语法，让您可以很简单的写出测试代码。<br>它的主要特点：</p><ul><li>不依赖于任何其它的 JavaScript 框架</li><li>不需要 DOM</li><li>结构简单</li><li>可以运行在 Node.JS 或者 Html 中</li><li>基于行为驱动开发 Jasmine<br><a href="http://jasmine.github.io/" target="_blank" rel="noopener">Jasmine项目Git 仓库地址</a><br><a href="https://www.ibm.com/developerworks/cn/web/wa-lo-use-karma-jasmine-build-test-environment/index.html#icomments" target="_blank" rel="noopener">参考</a><br><a href="http://jasmine.github.io/1.3/introduction.html" target="_blank" rel="noopener">jasmine基础语法</a><br><a href="http://www.cnblogs.com/zhcncn/p/4330112.html" target="_blank" rel="noopener">jasmine基础语法</a></li></ul><h3><span id="karma-简介">Karma 简介</span></h3><ul><li>Karma是Testacular的新名字，在2012年google开源了Testacular，2013年Testacular改名为Karma。</li><li>Karma是一个基于Node.js的JavaScript测试执行过程管理工具（Test Runner）。该工具可用于测试所有主流 Web 浏览器，也可以集成到 CI（Continuous integration）工具，还可以和其他代码编辑器一起使用。</li><li>Karma的主要目的是使您的测试驱动开发变得容易，快速和有趣。</li><li>Karma不是测试框架，也不是断言库。Karma只是启动HTTP服务器，并生成您可能已经从最喜欢的测试框架中了解的测试运行器HTML文件。因此，出于测试目的，您可以使用几乎任何您喜欢的东西。大多数常见测试框架已经有插件：</li></ul><blockquote><ul><li><a href="https://github.com/karma-runner/karma-jasmine" target="_blank" rel="noopener">Jasmine</a></li><li><a href="https://github.com/karma-runner/karma-mocha" target="_blank" rel="noopener">Mocha</a></li><li><a href="QUnit">QUnit</a></li><li><a href="https://www.npmjs.org/browse/keyword/karma-adapter" target="_blank" rel="noopener">and many others</a><br>支持所有的主流浏览器</li></ul></blockquote><h3><span id="karma-安装">Karma 安装</span></h3><p><strong>在项目中建议使用项目独立的 <code>node_modules</code>,包括上面的安装其它的依赖，这有利于迁移。</strong><br>Mac安装命令（i 是 install 命令的缩写，-D 是 --save-dev 的缩写。）<br>// 局部（单项目）安装。安装 Karma 命令到当前 node_modules 目录下，此时，如果需要执行 karma 命令，就需要这样 <code>$ ./node_modules/.bin/karma</code><br><code>$ npm install karma --save-dev</code><br>// 全局安装 - Mac安装路径：<code>/usr/local/bin/node</code><br><code>$ nom install karma -g</code><br>测试是否安装成功 <code>$ karma start</code> ，成功会出现提示打开浏览器 <a href="http://localhost:9876/" target="_blank" rel="noopener">http://localhost:9876/</a> 访问成功页面。</p><h3><span id="karma-初始化配置">Karma 初始化配置</span></h3><p>安装完成之后，切换到目标项目根目录，运行：<br><code>$ karma init</code> or <code>$ karma init **.conf.js</code><br>执行命令后，会被问到一系列的问题</p><ul><li><p><code>What testing framework do you want to use?</code><br>默认情况下 Jasmine, Mocha, QUnit 都已经被安装了，这里我们可以直接使用它们的名称。如果在应用中用到了其它的测试框架，那就需要我们安装它们所对应的插件，并在配置文件中标注它们（详见 karma.conf.js 中的 plugins 项）</p></li><li><p><code>Do you want to use Require.js?</code><br>This will add Require.js plugin.<br>Require.js 是异步加载规范（AMD）的实现。常被作为基础代码库，应用在了很多的项目与框架之中，例如 Dojo, AngularJs 等、</p></li><li><p><code>Do you want to capture a browser automatically?</code><br>选择需要运行测试用例的浏览器。需要注意的就是，必须保证所对应的浏览器插件已经安装成功。</p></li><li><p><code>What is the location of your source and test files?</code><br>You can use glob patterns, eg.  <strong>js/*.js&quot; or &quot;test/**/*Spec.js</strong>.<br>选择测试用例所在的目录位置。Karma 支持通配符的方式配置文件或目录，例如 <strong>js/*.js&quot; or &quot;test/**/*Spec.js</strong> 等。如果目录或文件使用相对位置，要清楚地是，此时的路径是相对于当前运行 karma 命令时所在的目录。</p></li><li><p><code>Should any of the files included by the previous patterns be excluded?</code><br>You can use glob patterns, eg. <strong>**/*.swp</strong>.<br>目录中不包括的那些文件。</p></li><li><p><code>Do you want Karma to watch all the files and run tests on change?</code><br>是否需要 Karma 自动监听文件？并且文件一旦被修改，就重新运行测试用例？</p></li></ul><p>最终 Karma 生成如下的配置文件 <code>karma.conf.js</code>，如下：</p><figure class="highlight vim"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line">// Karma configuration</span><br><span class="line">// Generated <span class="keyword">on</span> Wed Mar <span class="number">18</span> <span class="number">2018</span> <span class="number">14</span>:<span class="number">36</span>:<span class="number">01</span> GMT+<span class="number">0800</span> (GMT+<span class="number">08</span>:<span class="number">00</span>)</span><br><span class="line"></span><br><span class="line">module.exports = <span class="function"><span class="keyword">function</span><span class="params">(config)</span> &#123;</span></span><br><span class="line">  config.<span class="keyword">set</span>(&#123;</span><br><span class="line"></span><br><span class="line">    // base path that will <span class="keyword">be</span> used <span class="keyword">to</span> <span class="built_in">resolve</span> <span class="keyword">all</span> patterns (eg. <span class="keyword">files</span>, exclude)</span><br><span class="line">    basePath: <span class="string">''</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // frameworks <span class="keyword">to</span> use</span><br><span class="line">    // available framework<span class="variable">s:</span> http<span class="variable">s:</span>//npmjs.org/<span class="keyword">browse</span>/keyword/karma-adapter</span><br><span class="line">    framework<span class="variable">s:</span> [<span class="string">'jasmine'</span>],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // <span class="keyword">list</span> of <span class="keyword">files</span> / patterns <span class="keyword">to</span> load in the browser</span><br><span class="line">    <span class="keyword">file</span><span class="variable">s:</span> [</span><br><span class="line">      <span class="string">"test/**/*.js"</span>,</span><br><span class="line">      <span class="string">"test/**/*Spec.js"</span>,</span><br><span class="line">      // &#123;</span><br><span class="line">      //   pattern: <span class="string">'test/**/*.js'</span>,</span><br><span class="line">      //   // false 表示初始化的时候不会使用 script 标签直接将相关 js 引入到浏览器，需要自己写代码加载</span><br><span class="line">      //   included: false</span><br><span class="line">      // &#125;,</span><br><span class="line">      // &#123;</span><br><span class="line">      //   pattern: <span class="string">'test/**/*Spec.js'</span>,</span><br><span class="line">      //   included: false</span><br><span class="line">      // &#125;</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // <span class="keyword">list</span> of <span class="keyword">files</span> / patterns <span class="keyword">to</span> exclude</span><br><span class="line">    exclude: [</span><br><span class="line">    ],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // preprocess matching <span class="keyword">files</span> before serving them <span class="keyword">to</span> the browser</span><br><span class="line">    // available preprocessor<span class="variable">s:</span> http<span class="variable">s:</span>//npmjs.org/<span class="keyword">browse</span>/keyword/karma-preprocessor</span><br><span class="line">    preprocessor<span class="variable">s:</span> &#123;<span class="string">'test/**/*.js'</span>: <span class="string">'coverage'</span> &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // test results reporter <span class="keyword">to</span> use</span><br><span class="line">    // possible value<span class="variable">s:</span> <span class="string">'dots'</span>, <span class="string">'progress'</span></span><br><span class="line">    // available reporter<span class="variable">s:</span> http<span class="variable">s:</span>//npmjs.org/<span class="keyword">browse</span>/keyword/karma-reporter</span><br><span class="line">    reporter<span class="variable">s:</span> [<span class="string">'progress'</span>, <span class="string">'coverage'</span>],</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">    // 覆盖率报告器配置</span><br><span class="line">    coverageReporter: &#123;</span><br><span class="line">      <span class="built_in">type</span>: <span class="string">'html'</span>,</span><br><span class="line">      dir: <span class="string">'coverage/'</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // web server port</span><br><span class="line">    por<span class="variable">t:</span> <span class="number">9876</span>,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // enable / disable colors in the output (reporters <span class="built_in">and</span> logs)</span><br><span class="line">    color<span class="variable">s:</span> true,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // level of logging</span><br><span class="line">    // possible value<span class="variable">s:</span> config.LOG_DISABLE || config.LOG_ERROR || config.LOG_WARN || config.LOG_INFO || config.LOG_DEBUG</span><br><span class="line">    logLeve<span class="variable">l:</span> config.LOG_INFO,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // enable / disable watching <span class="keyword">file</span> <span class="built_in">and</span> executing tests whenever any <span class="keyword">file</span> <span class="keyword">changes</span></span><br><span class="line">    autoWatch: true,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // start these browsers</span><br><span class="line">    // available browser launcher<span class="variable">s:</span> http<span class="variable">s:</span>//npmjs.org/<span class="keyword">browse</span>/keyword/karma-launcher</span><br><span class="line">    // - Chrome, ChromeCanary, Firefox, Opera, Safari (<span class="keyword">only</span> Mac), PhantomJS,</span><br><span class="line">    // IE (<span class="keyword">only</span> Windows) </span><br><span class="line">    browser<span class="variable">s:</span> [<span class="string">'Chrome'</span>],</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    // Continuous Integration <span class="keyword">mode</span></span><br><span class="line">    // <span class="keyword">if</span> true, Karma captures browsers, runs the tests <span class="built_in">and</span> exits</span><br><span class="line">    singleRun: false,</span><br><span class="line"></span><br><span class="line">    // Concurrency level</span><br><span class="line">    // how many browser should <span class="keyword">be</span> started simultaneous</span><br><span class="line">    concurrency: Infinity</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    // 参考其他配置</span><br><span class="line">    // will <span class="keyword">be</span> resolved <span class="keyword">to</span> basePath (in the same way <span class="keyword">as</span> <span class="keyword">files</span>/exclude patterns) </span><br><span class="line">    junitReporter: &#123;outputFile: <span class="string">'test-results.xml'</span>&#125;, </span><br><span class="line"></span><br><span class="line">    // If browser does not capture in given timeout [ms], kill it </span><br><span class="line">    captureTimeou<span class="variable">t:</span> <span class="number">20000</span>, </span><br><span class="line"></span><br><span class="line">    // report which specs are slower than <span class="number">500</span>ms </span><br><span class="line">    reportSlowerThan: <span class="number">500</span>, </span><br><span class="line"></span><br><span class="line">    plugin<span class="variable">s:</span> [</span><br><span class="line">    <span class="string">'karma-jasmine'</span></span><br><span class="line">    ] </span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="karma-jasminae-自动化单元测试">Karma + Jasminae 自动化单元测试</span></h3><p>测试项目 <code>Karma-test</code> 目录为：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Karma-test</span><br><span class="line"><span class="bullet">    - </span>corverage (此目录会在后面覆盖率自动生成，暂忽略)</span><br><span class="line"><span class="bullet">        - </span>...</span><br><span class="line"><span class="bullet">    - </span>test</span><br><span class="line"><span class="bullet">        - </span>index.js</span><br><span class="line"><span class="bullet">        - </span>indexSpec.js</span><br><span class="line"><span class="bullet">    - </span>karma.conf.js</span><br></pre></td></tr></table></figure><ol><li>创建源文件(**.js 例：index.js)：用于实现某种业务逻辑的文件，平时写的js脚本；<br>在 <code>index.js</code> 实现一个求和运算：</li></ol><figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title">add</span>(number) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">number</span> + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li>创建测试文件(**Spec.js 例：indexSpec.js)：符合 <code>JasmineAPI</code> 的测试JS脚本；<br>在 <code>indexSpec.js</code> 中实现测试结果：</li></ol><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">"test add function"</span>, function () &#123;</span><br><span class="line">    it(<span class="string">"test function"</span>, function () &#123;</span><br><span class="line">        expect(<span class="name">add</span>(<span class="number">1</span>)).toBe(<span class="number">2</span>)<span class="comment">;    // add(1)是index.js中的方法，toBe(2)是期望的结果。</span></span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line">&#125;)<span class="comment">;</span></span><br></pre></td></tr></table></figure><ol start="3"><li>修改 <code>karma.conf.js</code> 配置文件；</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 基本片段，以初始化生成为准</span></span><br><span class="line"><span class="built_in">module</span>.exports = <span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>&#123;</span><br><span class="line">    config.set(&#123;</span><br><span class="line"></span><br><span class="line">        preprocessors: &#123;<span class="string">'test/**/*.js'</span>: <span class="string">'coverage'</span> &#125;,</span><br><span class="line">        reporters: [<span class="string">'progress'</span>, <span class="string">'coverage'</span>],</span><br><span class="line">        <span class="comment">// 覆盖率报告器配置</span></span><br><span class="line">        coverageReporter: &#123;</span><br><span class="line">            type: <span class="string">'html'</span>,</span><br><span class="line">            dir: <span class="string">'coverage/'</span></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><ol start="4"><li>启动karma 单元测试全自动执行<br><code>$ karma start karma.conf.js</code>  OR <code>$ karma start karma.conf.js --log-level debug --single-run</code> // 此时，Karma 会自动打开浏览器，并运行相应的测试用例，而执行结果会输出到控制台。<br><strong>输出如下：</strong></li></ol><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*****deMacBook-Pro:Karma-test *****$ karma start karma.conf.js</span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">08.978</span>:WARN [filelist]: All files matched by <span class="string">"/Users/weichanglu/Desktop/Karma-test/test/**/*Spec.js"</span> were excluded <span class="keyword">or</span> matched by prior matchers.</span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">09.111</span>:WARN [karma]: No captured browser, open http:<span class="comment">//localhost:9876/</span></span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">09.167</span>:INFO [karma-server]: Karma v4<span class="number">.4</span><span class="number">.1</span> server started at http:<span class="comment">//0.0.0.0:9876/</span></span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">09.167</span>:INFO [launcher]: Launching browsers Chrome with concurrency unlimited</span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">09.181</span>:INFO [launcher]: Starting browser Chrome</span><br><span class="line"><span class="number">18</span> <span class="number">03</span> <span class="number">16</span>:<span class="number">55</span>:<span class="number">12.770</span>:INFO [Chrome <span class="number">79.0</span><span class="number">.3945</span> (Mac OS X <span class="number">10.15</span><span class="number">.1</span>)]: Connected on socket fNwvZpUHRXSnHHXsAAAA with id <span class="number">33904973</span></span><br><span class="line">Chrome <span class="number">79.0</span><span class="number">.3945</span> (Mac OS X <span class="number">10.15</span><span class="number">.1</span>): Executed <span class="number">1</span> of <span class="number">1</span> SUCCESS (<span class="number">0.005</span> secs / <span class="number">0.001</span> secs)</span><br><span class="line">TOTAL: <span class="number">1</span> SUCCESS</span><br></pre></td></tr></table></figure><p>浏览器会自动打开页面，内容如下;</p><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Karma v4<span class="number">.4</span><span class="number">.1</span> - connected                                              DEBUG</span><br><span class="line"></span><br><span class="line">Chrome <span class="number">79.0</span><span class="number">.3945</span> (Mac OS X <span class="number">10.15</span><span class="number">.1</span>) <span class="keyword">is</span> idle</span><br></pre></td></tr></table></figure><ol start="5"><li>调试及其他<br>很多时候，我们只想要运行某一个suite中的所有测试用例，而不是整个工程，比如在Jasmine中：</li></ol><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">describe(<span class="string">"test sum function"</span>, function () &#123;</span><br><span class="line">    it(<span class="string">"test function"</span>, function () &#123;</span><br><span class="line">        expect(<span class="name">sum</span>(<span class="number">1</span>)).toBe(<span class="number">2</span>)<span class="comment">;    //sum(1)是index.js中的方法，toBe(2)是期望的结果。</span></span><br><span class="line">    &#125;)<span class="comment">;</span></span><br><span class="line">&#125;)<span class="comment">;</span></span><br></pre></td></tr></table></figure><p>只需要将 <code>describe</code> 修改为 <code>ddescribe</code> 即可，类似的，如果只需要运行某一个测试用例，只需要将 <code>it</code> 修改为 <code>iit</code> 即可。<br>另外，Karma还提供了debugger功能，在测试用例中加入： <code>debugger;</code><br>由于在运行时，karma实际上会启动一个真实地浏览器，所以可以在浏览器的developer-tool中进行实际的调试。需要注意的是，当进入调试模式时，需要启动developer-tool(在Karma启动的那个浏览器窗口中)。</p><p>通过修改验证测试结果文件 <code>indexSpec.js</code> 进行测试即可，由于karma.conf.js配置文件中 <code>autoWatch: true</code> , <code>indexSpec.js</code> 文件保存后，会自动执行单元测试。<br>查看执行日志，验证测试结果：</p><ol><li><strong>终端日志</strong></li><li><strong>浏览器F12开发者模式</strong></li></ol><h3><span id="karma-代码覆盖率">Karma 代码覆盖率</span></h3><ol><li>需要安装依赖 <code>karma-coverage</code> 命令：<code>$ npm install karma-coverage --save-dev</code>，还是建议安装到项目目录中，以便于迁移。</li><li>修改<code>karma.conf.js</code>配置文件</li></ol><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">reporters</span>: [<span class="string">'progress'</span>, <span class="string">'coverage'</span>],</span><br><span class="line"></span><br><span class="line"><span class="attribute">preprocessors</span>: &#123;<span class="string">'test/**/*.js'</span>: <span class="string">'coverage'</span> &#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">// 覆盖率报告器配置</span></span><br><span class="line"><span class="attribute">coverageReporter</span>: &#123;</span><br><span class="line">  <span class="attribute">type</span>: <span class="string">'html'</span>,</span><br><span class="line">  <span class="attribute">dir</span>: <span class="string">'coverage/'</span></span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><ol start="3"><li>启动 <code>karma start karma.conf.js</code> ，会在项目根目录下生成 <code>coverage</code> 目录，在其下面找到index.html文件（coverage/chrome/index.html），浏览器打开，便看到代码测试覆盖绿报告。<br>通过修改业务代码（index.js），来观测覆盖率变化。<br>为了产品的质量要尽量达到更多的覆盖率，一般对于JAVA项目来说，能达到80%就是相当高的标准了。</li></ol><figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">All files</span><br><span class="line"><span class="number">100</span>% Statements <span class="number">4</span>/<span class="number">4100</span>% Branches <span class="number">0</span>/<span class="number">0100</span>% Functions <span class="number">3</span>/<span class="number">3100</span>% Lines <span class="number">4</span>/<span class="number">4</span></span><br><span class="line">Press n <span class="keyword">or</span> j to go to the next uncovered block, b, p <span class="keyword">or</span> k <span class="keyword">for</span> the previous block.</span><br><span class="line"></span><br><span class="line">FileStatementsBranchesFunctionsLines</span><br><span class="line">index.js</span><br><span class="line"><span class="number">100</span>%<span class="number">1</span>/<span class="number">1</span><span class="number">100</span>%<span class="number">0</span>/<span class="number">0</span><span class="number">100</span>%<span class="number">1</span>/<span class="number">1</span><span class="number">100</span>%<span class="number">1</span>/<span class="number">1</span></span><br><span class="line">indexSpec.js</span><br><span class="line"><span class="number">100</span>%<span class="number">3</span>/<span class="number">3</span><span class="number">100</span>%<span class="number">0</span>/<span class="number">0</span><span class="number">100</span>%<span class="number">2</span>/<span class="number">2</span><span class="number">100</span>%<span class="number">3</span>/<span class="number">3</span></span><br></pre></td></tr></table></figure><p><strong><u><a href="https://github.com/cl9000/Karma-test" target="_blank" rel="noopener">测试代码git地址</a></u></strong></p><h3><span id="参考资源">参考资源</span></h3><p><a href="http://karma-runner.github.io/1.0/index.html" target="_blank" rel="noopener">Karma 官网</a><br><a href="https://jasmine.github.io/tutorials/your_first_suite" target="_blank" rel="noopener">Jasmine 官网</a><br><a href="https://www.npmjs.com/search?q=keywords:karma-plugin" target="_blank" rel="noopener">Karma 官网 plugins 部分</a><br><a href="https://www.ibm.com/developerworks/cn/web/wa-lo-use-karma-jasmine-build-test-environment/index.html#icomments" target="_blank" rel="noopener">使用 Karma + Jasmine 构建 Web 测试环境</a><br><a href="http://icodeit.org/2013/10/using-karma-as-the-javascript-test-runner/" target="_blank" rel="noopener">使用Karma运行JavaScript测试</a><br><a href="http://blog.fens.me/nodejs-karma-jasmine/" target="_blank" rel="noopener">Karma和Jasmine自动化单元测试</a><br><a href="https://yq.aliyun.com/articles/4194" target="_blank" rel="noopener">karma 测试框架的前世今生</a><br><a href="https://www.cnblogs.com/jasmine-95/p/6054839.html" target="_blank" rel="noopener">Karma+Jasmine实现自动化单元测试</a><br><a href="https://www.cnblogs.com/haogj/p/5204126.html" target="_blank" rel="noopener">Karma：1. 集成 Karma 和 Jasmine 进行单元测试</a><br><a href="https://segmentfault.com/a/1190000005848842" target="_blank" rel="noopener">karma 入门</a><br><a href="https://blog.csdn.net/anneCoder/article/details/80854101" target="_blank" rel="noopener">JS测试工具karma及应用</a><br><a href="https://blog.csdn.net/xishaoguo/article/details/82621019?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task" target="_blank" rel="noopener">前端单元测试工具——karma安装使用</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3&gt;&lt;span id=&quot;karma-jasmine-构建-web-测试环境&quot;&gt;Karma + Jasmine 构建 Web 测试环境&lt;/span&gt;&lt;/h3&gt;
&lt;h3&gt;&lt;span id=&quot;jasmine-简介&quot;&gt;Jasmine 简介&lt;/span&gt;&lt;/h3&gt;
&lt;!-- &lt;img 
      
    
    </summary>
    
    
      <category term="Karma" scheme="https://cl9000.github.io/categories/Karma/"/>
    
      <category term="Jasmine" scheme="https://cl9000.github.io/categories/Karma/Jasmine/"/>
    
      <category term="Web测试" scheme="https://cl9000.github.io/categories/Karma/Jasmine/Web%E6%B5%8B%E8%AF%95/"/>
    
    
      <category term="Karma" scheme="https://cl9000.github.io/tags/Karma/"/>
    
      <category term="Jasmine" scheme="https://cl9000.github.io/tags/Jasmine/"/>
    
      <category term="Web测试" scheme="https://cl9000.github.io/tags/Web%E6%B5%8B%E8%AF%95/"/>
    
  </entry>
  
  <entry>
    <title>[Extension] Chrome扩展程序开发</title>
    <link href="https://cl9000.github.io/2017/09/11/Extension-Chrome%E6%89%A9%E5%B1%95%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/"/>
    <id>https://cl9000.github.io/2017/09/11/Extension-Chrome%E6%89%A9%E5%B1%95%E7%A8%8B%E5%BA%8F%E5%BC%80%E5%8F%91/</id>
    <published>2017-09-11T09:50:35.000Z</published>
    <updated>2020-03-12T03:06:22.933Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="chrome-extension">Chrome Extension</span></h4><h4><span id="缘由">缘由</span></h4><p>鉴于经常使用Chrome浏览器，一些用着比较顺手的 <code>Chrome扩展</code> 对于提高生活幸福效率有着很大好处。随即翻阅了下关于 <code>Chrome扩展</code> 开发相关的资料。随即整理如下；<br><a href="https://developer.chrome.com/extensions" target="_blank" rel="noopener">Chrome Extensions developer - API文档</a></p><h4><span id="简要说明">简要说明</span></h4><p><code>Chrome扩展</code> 是一个用Web技术开发、用来增强浏览器功能的软件，一个由HTML、CSS、JS、images等资源组成后经编译发包的一个 <code>**.crx</code> 后缀的压缩包。扩展可以定制爬虫、屏蔽广告、网页实时数据、修改http(s)请求头等等。可以根据自己的需求定制满足自己功能的扩展（Extension）。</p><h5><span id="chrome命令">Chrome://命令</span></h5><blockquote><p>直接在 <code>Chrome</code> 地址栏输入回车</p></blockquote><table><thead><tr><th>chrome://命令</th><th>描述</th></tr></thead><tbody><tr><td><strong><code>chrome://about</code></strong></td><td>查看所有chrome:// 列表</td></tr><tr><td><code>chrome://extensions</code></td><td>显示扩展</td></tr><tr><td><code>chrome://settings</code></td><td>设置</td></tr><tr><td><code>chrome://version</code></td><td>显示当前版本</td></tr><tr><td><code>chrome://history</code></td><td>历史记录</td></tr><tr><td><code>chrome://downloads</code></td><td>下载文件</td></tr><tr><td><code>chrome://newtab</code></td><td>创建新标签</td></tr><tr><td><code>chrome://bookmarks</code></td><td>收藏的标签</td></tr><tr><td><code>chrome://apps</code></td><td>应用操作界面</td></tr><tr><td><code>chrome://components</code></td><td>组件信息</td></tr><tr><td><code>chrome://net-internals</code></td><td>网络事件信息</td></tr><tr><td><code>chrome://memory-redirect</code></td><td>内存使用的统计信息</td></tr><tr><td><code>chrome://dns</code></td><td>显示主机名列表、DNS 状态</td></tr><tr><td><code>chrome://devices</code></td><td>连接的设备</td></tr><tr><td><code>chrome://flags</code></td><td>实验项目，加“#项目名称”锚点可以直接定位到项目</td></tr><tr><td><code>chrome://translate-internals</code></td><td>内置翻译功能页面</td></tr><tr><td><code>chrome://quit</code></td><td>退出浏览器</td></tr><tr><td><code>chrome://restart</code></td><td>重启浏览器</td></tr></tbody></table><h4><span id="扩展结构">扩展结构</span></h4><h5><span id="配置文件-manifestjson">配置文件 - <code>manifest.json</code></span></h5><blockquote><p>扩展必须有 <code>manifest.json</code> 文件，文件基本如下，<br>官方模板 <strong><a href="https://developer.chrome.com/extensions/manifest" target="_blank" rel="noopener">manifest.json</a></strong>。</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&#123;   </span><br><span class="line">    <span class="attr">"manifest_version"</span>: <span class="number">2</span>,  <span class="comment">// 清单文件的版本，固定值 2</span></span><br><span class="line">    <span class="attr">"name"</span>: <span class="string">"test echarts - 插件的名称"</span>,</span><br><span class="line">    <span class="attr">"version"</span>: <span class="string">"1.0"</span>,</span><br><span class="line">    <span class="attr">"description"</span>: <span class="string">"插件的描述"</span>,</span><br><span class="line">    <span class="attr">"icons"</span>: &#123;</span><br><span class="line">        <span class="attr">"16"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">        <span class="attr">"48"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">        <span class="attr">"64"</span>: <span class="string">"img/icon.png"</span>,</span><br><span class="line">        <span class="attr">"128"</span>: <span class="string">"img/icon.png"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">"commands"</span>: &#123;</span><br><span class="line">        <span class="attr">"_execute_browser_action"</span>: &#123;</span><br><span class="line">            <span class="attr">"suggested_key"</span>: &#123;</span><br><span class="line">                <span class="attr">"default"</span>: <span class="string">"Ctrl+Shift+V"</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 扩展图标设置，browser_action、page_action、app必须三选一</span></span><br><span class="line">    <span class="attr">"browser_action"</span>: &#123;</span><br><span class="line">        <span class="attr">"default_popup"</span>: <span class="string">"index.html"</span>,</span><br><span class="line">        <span class="attr">"default_icon"</span>: <span class="string">"icon00.png"</span>,</span><br><span class="line">        <span class="attr">"default_title"</span>: <span class="string">"图标悬停时的title"</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 插件的运行环境</span></span><br><span class="line">    <span class="attr">"background"</span>: &#123; <span class="comment">// 2种指定方式，若设置了scripts字段，那么会自动生成一个背景页</span></span><br><span class="line">        <span class="attr">"page"</span>: <span class="string">"background.html"</span></span><br><span class="line">        <span class="comment">//"scripts": ["js/background.js"]</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 权限申请</span></span><br><span class="line">    <span class="attr">"permissions"</span>: [</span><br><span class="line">        <span class="string">"contextMenus"</span>, <span class="comment">// 右键菜单</span></span><br><span class="line">        <span class="string">"tabs"</span>, <span class="comment">// 标签</span></span><br><span class="line">        <span class="string">"notifications"</span>, <span class="comment">// 通知</span></span><br><span class="line">        <span class="string">"webRequest"</span>, <span class="comment">// web请求</span></span><br><span class="line">        <span class="string">"webRequestBlocking"</span>,</span><br><span class="line">        <span class="string">"storage"</span>, <span class="comment">// 插件本地存储</span></span><br><span class="line">        <span class="string">"http://*/*"</span>, <span class="comment">// 可以通过executeScript或者insertCSS访问的网站</span></span><br><span class="line">        <span class="string">"https://*/*"</span> <span class="comment">// 可以通过executeScript或者insertCSS访问的网站</span></span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// 对页面内容进行操作的脚本</span></span><br><span class="line">    <span class="attr">"content_scripts"</span>: [ </span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//"matches": ["http://*/*", "https://*/*"], // 满足条件执行该插件 </span></span><br><span class="line">            <span class="comment">// "&lt;all_urls&gt;" 表示匹配所有地址 </span></span><br><span class="line">            <span class="attr">"matches"</span>: [<span class="string">"&lt;all_urls&gt;"</span>],</span><br><span class="line">            <span class="comment">// 多个JS按顺序注入</span></span><br><span class="line">            <span class="attr">"js"</span>: [<span class="string">"js/jquery-1.8.3.js"</span>, <span class="string">"js/content-script.js"</span>],</span><br><span class="line">            <span class="attr">"css"</span>: [<span class="string">"css/custom.css"</span>],</span><br><span class="line">            <span class="comment">// 代码注入的时间，可选值： "document_start", "document_end", or "document_idle"，最后一个表示页面空闲时，默认document_idle</span></span><br><span class="line">            <span class="attr">"run_at"</span>: <span class="string">"document_start"</span> <span class="comment">// 在document加载时执行该脚本</span></span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">// 普通页面能够直接访问的插件资源列表，如果不设置是无法直接访问的</span></span><br><span class="line">    <span class="attr">"web_accessible_resources"</span>: [<span class="string">"js/inject.js"</span>],</span><br><span class="line">    <span class="comment">// 插件主页，打开扩展程序主页</span></span><br><span class="line">    <span class="attr">"homepage_url"</span>: <span class="string">"https://www.bing.com"</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5><span id="配置字段说明">配置字段说明</span></h5><h6><span id="browser_action"><strong>browser_action</strong></span></h6><ol><li><p>如果 <code>browser action</code> 设置了<code>default_popup</code>，popup 可以包含任意你想要的HTML内容，并且会自适应大小。popup 会在用户点击图标后出现。若没有设置default_popup，将执行 <code>chrome.browserAction.onClicked</code> 的内容，若没有设置，就什么都不执行了。</p></li><li><p>和 <code>browser_action</code> 对应的还有一个 <code>page_action</code>，区别在于：<code>browser_action</code> 对在浏览器中加载的所有网页都生效；<code>page_action</code> 针对特定的网页生效。一个<code>Extension</code>最多可以有一个 <code>browser_action</code> 或  <code>page_action</code>。</p></li></ol><h6><span id="background"><strong>background</strong></span></h6><ol><li><p><code>background</code>是插件的运行环境。若设置了<code>scripts</code>字段，浏览器的扩展系统会自动根据scripts字段指定的所有js文件自动生成背景页。也可使用 <code>page</code> 字段指定背景页，<code>**二者只能设置一个**</code>。</p></li><li><p>一般情况下，会将扩展的主要逻辑都放在 <code>background</code> 中比较便于管理。其它页面可以通过消息传递的机制与 <code>background</code> 进行通讯。理论上 <code>content scripts</code> 与 popup 之间也可以传递消息，但不建议这么做。</p></li></ol><h6><span id="content-scripts">content-scripts</span></h6><ol><li><code>content-scripts</code> 是Chrome扩展向页面注入脚本的一种形式（可包含css文件），借助<code>content-scripts</code> 可实现通过配置的方式轻松向指定页面注入<code>JS、CSS</code>（如需要动态注入，可以参考下文），最常见的比如：广告屏蔽、页面CSS定制，等等。</li></ol><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"content_scripts"</span>: [&#123;  <span class="regexp">//</span>对页面内容进行操作的脚本</span><br><span class="line">     <span class="string">"matches"</span>: [<span class="string">"http://*/*"</span>,<span class="string">"https://*/*"</span>], <span class="regexp">//</span>满足条件执行该插件 </span><br><span class="line">     <span class="regexp">//</span><span class="string">"matches"</span>: [<span class="string">"&lt;all_urls&gt;"</span>], <span class="regexp">//</span> <span class="string">"&lt;all_urls&gt;"</span> 表示匹配所有地址 </span><br><span class="line">     <span class="string">"js"</span>: [<span class="string">"js/jquery-1.9.1.min.js"</span>, <span class="string">"js/js.js"</span>],</span><br><span class="line">     <span class="string">"css"</span>: [<span class="string">"css/custom.css"</span>],</span><br><span class="line">     <span class="string">"run_at"</span>: <span class="string">"document_start"</span>,  <span class="regexp">//</span>在document加载时执行该脚本</span><br><span class="line">    &#125;]</span><br></pre></td></tr></table></figure><h5><span id="桌面通知">桌面通知</span></h5><p>Chrome提供了一个 <code>chrome.notifications</code> API以便插件推送桌面通知</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">chrome</span><span class="selector-class">.notifications</span><span class="selector-class">.create</span>(<span class="selector-tag">null</span>, &#123;</span><br><span class="line">    <span class="attribute">type</span>: <span class="string">'basic'</span>,</span><br><span class="line">    iconUrl: <span class="string">'img/icon.png'</span>,</span><br><span class="line">    title: <span class="string">'标题'</span>,</span><br><span class="line">    message: <span class="string">'桌面通知'</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5><span id="消息通信">消息通信</span></h5><p><a href="https://developer.chrome.com/extensions/messaging" target="_blank" rel="noopener">官网 - 消息通信文档</a></p><h6><span id="普通的消息传递"><strong>普通的消息传递</strong></span></h6><p>通过<code>runtime</code>的<code>onMessage</code>、<code>sendMessage</code>等方法，可以在各个JS之间传递并监听消息。<br>在popup.js中，我们让它初始化之后发送一个消息：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">chrome</span><span class="selector-class">.runtime</span><span class="selector-class">.sendMessage</span>(&#123;</span><br><span class="line">  <span class="attribute">method</span>: <span class="string">'showAlert'</span></span><br><span class="line">&#125;, <span class="selector-tag">function</span>(<span class="selector-tag">response</span>) &#123;&#125;);</span><br></pre></td></tr></table></figure><p>然后在background.js中，监听消息的接收，并进行处理：</p><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chrome.runtime.onMessage.addListener(function(<span class="class"><span class="keyword">message</span>, <span class="title">sender</span>, sendResponse) </span>&#123;</span><br><span class="line">  if (<span class="class"><span class="keyword">message</span>.<span class="title">method</span> === 'showAlert') </span>&#123;</span><br><span class="line">    alert('showAlert');</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong><code>chrome.runtime</code> 的常用方法：</strong></p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取当前扩展程序中正在运行的后台网页的 JavaScript window 对象</span></span><br><span class="line">chrome.runtime.getBackgroundPage(<span class="function"><span class="keyword">function</span> <span class="params">(backgroundPage)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// backgroundPage 即 window 对象</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 发送消息</span></span><br><span class="line">chrome.runtime.sendMessage(message, <span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// response 代表消息回复，可以接受到通过 sendResponse 方法发送的消息回复</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 监听消息</span></span><br><span class="line">chrome.runtime.onMessage.addListener(<span class="function"><span class="keyword">function</span><span class="params">(message, sender, sendResponse)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// message 就是你发送的 message</span></span><br><span class="line">  <span class="comment">// sender 代表发送者，可以通过 sender.tab 判断消息是否是从内容脚本发出</span></span><br><span class="line">  <span class="comment">// sendResponse 可以直接发送回复，如：</span></span><br><span class="line">  sendResponse(&#123;</span><br><span class="line">    method: <span class="string">'response'</span>,</span><br><span class="line">    message: <span class="string">'send a response'</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>需要注意的是，即便你在多个JS中注册了消息监听<code>onMessage.addListener</code>，也只有一个监听者能收到通过<code>runtime.sendMessage</code>发送出去的消息。如果需要不同的监听者分别监听消息，则需要使用<code>chrome.tab</code> API来指定消息接收对象</p><h6><span id="长-短连接">长、短连接</span></h6><p>Chrome插件中有2种通信方式：<br>短连接（<code>chrome.tabs.sendMessage</code>、<code>chrome.runtime.sendMessage</code>）</p><p>通过<code>chrome.runtime.connect</code>（或者<code>chrome.tabs.connect</code>）可以建立起不同类型JS之间的长链接。<br><strong>长连接：</strong><br><strong>popup.js</strong> 信息的发送者需要制定独特的信息类型，发送并监听信息：</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">var<span class="built_in"> port </span>= chrome.runtime.connect(&#123;type: <span class="string">"connection"</span>&#125;);</span><br><span class="line">port.postMessage(&#123;</span><br><span class="line">  method: <span class="string">"add"</span>,</span><br><span class="line">  datas: [1, 2, 3]</span><br><span class="line">&#125;);</span><br><span class="line">port.onMessage.addListener(function(msg) &#123;</span><br><span class="line">  <span class="keyword">if</span> (msg.method === <span class="string">"answer"</span>) &#123;</span><br><span class="line">      console.log(msg.data);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>content-script.js</strong> 而接受者则要注册监听，并判断消息的类型：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 监听长连接</span></span><br><span class="line">chrome.runtime.onConnect.addListener(<span class="function"><span class="keyword">function</span>(<span class="params">port</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.assert(port.type == <span class="string">"connection"</span>);</span><br><span class="line">  port.onMessage.addListener(<span class="function"><span class="keyword">function</span>(<span class="params">msg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (msg.method == <span class="string">"add"</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> result = msg.datas.reduce(<span class="function"><span class="keyword">function</span>(<span class="params">previousValue, currentValue, index, array</span>)</span>&#123;</span><br><span class="line">      <span class="keyword">return</span> previousValue + currentValue;</span><br><span class="line">  &#125;);</span><br><span class="line">      port.postMessage(&#123;</span><br><span class="line">        method: <span class="string">"answer"</span>,</span><br><span class="line">        data: result</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h6><span id="chrometabs"><strong><code>chrome.tabs</code></strong></span></h6><p>要使用这个API则需要先在<code>manifest.json</code>中注册：</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"permissions"</span>: [</span><br><span class="line">  <span class="string">"tabs"</span>,</span><br><span class="line">  <span class="string">//</span> <span class="string">...</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取到当前的Tab</span></span><br><span class="line">chrome.tabs.getCurrent(<span class="function"><span class="keyword">function</span><span class="params">(tab)</span> </span>&#123;</span><br><span class="line">  <span class="comment">// 通过 tab.id 可以拿到标签页的ID</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 通过 queryInfo，以Array的形式筛选出符合条件的tabs</span></span><br><span class="line">chrome.tabs.query(queryInfo, <span class="function"><span class="keyword">function</span><span class="params">(tabs)</span> </span>&#123;&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 精准的给某个页面的`content_scripts`发送消息</span></span><br><span class="line">chrome.tabs.sendMessage(tabId, message, <span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;&#125;);</span><br></pre></td></tr></table></figure><p>例子 在background.js中，我们获取到当前Tab，并发送消息：</p><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">chrome.tabs.getCurrent(<span class="function"><span class="keyword">function</span><span class="params">(tab)</span> </span>&#123;</span><br><span class="line">  chrome.tabs.sendMessage(tab.id, &#123;</span><br><span class="line">    method: <span class="string">'tab'</span>,</span><br><span class="line">    message: <span class="string">'get active tab'</span></span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;&#125;);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 或者</span></span><br><span class="line">chrome.tabs.query(&#123;active: <span class="literal">true</span>, currentWindow: <span class="literal">true</span>&#125;, <span class="function"><span class="keyword">function</span><span class="params">(tabs)</span> </span>&#123;</span><br><span class="line">  chrome.tabs.sendMessage(tabs[<span class="number">0</span>].id, &#123;</span><br><span class="line">    method: <span class="string">'tab'</span>,</span><br><span class="line">    message: <span class="string">'get active tab'</span></span><br><span class="line">  &#125;, <span class="function"><span class="keyword">function</span><span class="params">(response)</span> </span>&#123;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>然后在content_scripts中，进行消息监听：</p><figure class="highlight protobuf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chrome.runtime.onMessage.addListener(function(<span class="class"><span class="keyword">message</span>, <span class="title">sender</span>, sendResponse) </span>&#123;</span><br><span class="line">  if (<span class="class"><span class="keyword">message</span>.<span class="title">method</span> === 'tab') </span>&#123;</span><br><span class="line">    console.log(<span class="class"><span class="keyword">message</span>.<span class="title">message</span>);</span></span><br><span class="line"><span class="class">  &#125;</span></span><br><span class="line"><span class="class">&#125;);</span></span><br></pre></td></tr></table></figure><h6><span id="chromestorage"><strong><code>chrome.storage</code></strong></span></h6><p><code>chrome.storage</code> 是一个基于<code>localStorage</code>的本地储存，但chrome对其进行了IO的优化，可以储存对象形式的数据，也不会因为浏览器完全关闭而清空。<br>使用这个API需要先在<code>manifest.json</code>中注册：</p><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"permissions"</span>: [</span><br><span class="line">  <span class="string">"storage"</span>,</span><br><span class="line">  <span class="string">//</span> <span class="string">...</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure><p><code>chrome.storage</code> 有两种形式，<code>chrome.storage.sync</code> 和 <code>chrome.storage.local</code>：</p><figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据储存</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">StorageArea</span>.</span></span>set(object items, <span class="keyword">function</span> callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数据获取</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">StorageArea</span>.</span></span>get(<span class="built_in">string</span> <span class="keyword">or</span> <span class="built_in">array</span> <span class="keyword">of</span> <span class="built_in">string</span> <span class="keyword">or</span> object keys, <span class="keyword">function</span> callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 数据移除</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">StorageArea</span>.</span></span>remove(<span class="built_in">string</span> <span class="keyword">or</span> <span class="built_in">array</span> <span class="keyword">of</span> <span class="built_in">string</span> keys, <span class="keyword">function</span> callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 清空全部储存</span></span><br><span class="line"><span class="module-access"><span class="module"><span class="identifier">StorageArea</span>.</span></span>clear(<span class="keyword">function</span> callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 监听储存的变化</span></span><br><span class="line">chrome.storage.onChanged.add<span class="constructor">Listener(<span class="params">function</span>(<span class="params">changes</span>, <span class="params">namespace</span>)</span> &#123;&#125;);</span><br></pre></td></tr></table></figure><p>例如 在<code>browser_action</code>完成了用户的登录/注册操作，将部分用户信息储存在storage中。每次初始化时，都会检查是否有储存，没有的话则需要用户登录，成功后再添加：</p><figure class="highlight pgsql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">// browser_action</span><br><span class="line">// js.popup.js</span><br><span class="line"></span><br><span class="line">chrome.<span class="keyword">storage</span>.sync.<span class="keyword">get</span>(<span class="string">'user'</span>, <span class="keyword">function</span>(result) &#123;</span><br><span class="line">  // 通过 result.<span class="keyword">user</span> 获取到储存的 <span class="keyword">user</span> 对象</span><br><span class="line">  result &amp;&amp; setPopDOM(result.<span class="keyword">user</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> setPopDOM(<span class="keyword">user</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">user</span> &amp;&amp; <span class="keyword">user</span>.userId) &#123;</span><br><span class="line">    // <span class="keyword">show</span> <span class="keyword">user</span> UI</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    // <span class="keyword">show</span> <span class="keyword">login</span> UI</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">document.getElementById(<span class="string">'login'</span>).onclick = <span class="keyword">function</span>() &#123;</span><br><span class="line">  // <span class="keyword">login</span> <span class="keyword">user</span>..</span><br><span class="line">  // 通过 ajax 请求异步登录，获取到成功的回调后，将返回的 <span class="keyword">user</span> 对象储存在 <span class="keyword">storage</span> 中</span><br><span class="line">  chrome.<span class="keyword">storage</span>.sync.<span class="keyword">set</span>(&#123;<span class="keyword">user</span>: <span class="keyword">user</span>&#125;, <span class="keyword">function</span>(result) &#123;&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>而在其他环境的JS里，我们可以监听storage的变化：</p><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// background</span><br><span class="line">// js/background.js</span><br><span class="line"></span><br><span class="line">// 一个全局的 <span class="keyword">user</span> <span class="title">对象，用来保存用户信息，以便在异步时发生 userId</span></span><br><span class="line">var <span class="keyword">user</span> <span class="title">= null</span>;</span><br><span class="line"></span><br><span class="line">chrome.storage.onChanged.addListener(function(changes, namespace) &#123;</span><br><span class="line">  for (key <span class="keyword">in</span> changes) &#123;</span><br><span class="line">    if (key === 'user') &#123;</span><br><span class="line">      console.log('<span class="keyword">user</span> <span class="title">storage</span> changed!');</span><br><span class="line">      <span class="keyword">user</span> <span class="title">= changes</span>[key];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p><strong>注意：</strong></p><ol><li><strong>chrome不允许扩展中的HTML页面内直接内嵌js脚本，而要求所有的脚本都作为外部src来引入</strong></li><li><strong>json 文件不允许有注释</strong></li></ol><h5><span id="正式发布">正式发布</span></h5><p><a href="https://segmentfault.com/a/1190000006035525" target="_blank" rel="noopener">如何成为一名Chrome应用开发者</a><br><a href="https://www.cnblogs.com/xishuai/p/google-chrome-webstore-developer-upload-program.html" target="_blank" rel="noopener">Google Chrome 应用商店上传扩展程序</a></p><h5><span id="参考">参考</span></h5><p>了解以上东西就可以自己整理一个 Chrome扩展，若要深入功能丰富的 extension，便需要参考官网文档（Chrome暂时需要梯子）</p><blockquote><p>参考链接：</p></blockquote><ul><li><a href="https://developer.chrome.com/extensions" target="_blank" rel="noopener">Chrome扩展官网</a></li><li><a href="https://www.cnblogs.com/liuxianan/p/chrome-plugin-develop.html" target="_blank" rel="noopener">Chrome插件(扩展)开发全攻略</a></li><li><a href="https://segmentfault.com/a/1190000006949838" target="_blank" rel="noopener">Chrome 扩展开发——编写一个自己的浏览器插件</a></li><li><a href="https://www.jianshu.com/p/51c650f98d9c" target="_blank" rel="noopener">谷歌(Chrome)浏览器插件开发教程</a></li><li><a href="https://segmentfault.com/a/1190000005896962" target="_blank" rel="noopener">从零开始写一个 Chrome 扩展</a></li><li><a href="https://segmentfault.com/a/1190000007182038" target="_blank" rel="noopener">Chrome扩展程序开发</a><br>感谢以上老师整理的文章。</li></ul><h5><span id="一些插件网址">一些插件网址</span></h5><p><a href="https://chrome.zzzmh.cn/#index" target="_blank" rel="noopener">极简插件</a></p><p><a href="https://github.com/cl9000/Chrome-Extensions-Demos.git" target="_blank" rel="noopener">字数统计插件</a><br><strong>此仅为整理个人笔记，以作备忘，不做商用，请知悉，谢谢。</strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4&gt;&lt;span id=&quot;chrome-extension&quot;&gt;Chrome Extension&lt;/span&gt;&lt;/h4&gt;
&lt;h4&gt;&lt;span id=&quot;缘由&quot;&gt;缘由&lt;/span&gt;&lt;/h4&gt;
&lt;p&gt;鉴于经常使用Chrome浏览器，一些用着比较顺手的 &lt;code&gt;Chrome扩展&lt;/c
      
    
    </summary>
    
    
      <category term="Chrome Extension" scheme="https://cl9000.github.io/categories/Chrome-Extension/"/>
    
    
      <category term="Chrome" scheme="https://cl9000.github.io/tags/Chrome/"/>
    
      <category term="Chrome Extension" scheme="https://cl9000.github.io/tags/Chrome-Extension/"/>
    
  </entry>
  
  <entry>
    <title>[BING] 获取BING每日美图</title>
    <link href="https://cl9000.github.io/2017/04/13/BING-%E8%8E%B7%E5%8F%96BING%E6%AF%8F%E6%97%A5%E7%BE%8E%E5%9B%BE/"/>
    <id>https://cl9000.github.io/2017/04/13/BING-%E8%8E%B7%E5%8F%96BING%E6%AF%8F%E6%97%A5%E7%BE%8E%E5%9B%BE/</id>
    <published>2017-04-13T10:24:44.000Z</published>
    <updated>2020-04-13T11:05:52.084Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="bing每日美图">BING每日美图</span></h2><h3><span id="解析api">解析API</span></h3><p><a href="www.bing.com">bing 搜索</a></p><!-- ![](http://www.bing.com/sa/simg/hpc27_2x.png) --><p>F12 查看源码，定位背景地址、解析可以获得首页图的获取API。格式：</p><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://cn.bing.com/HPImageArchive.aspx?<span class="meta">format</span>=js<span class="variable">&amp;idx</span>=0<span class="variable">&amp;n</span>=1</span><br></pre></td></tr></table></figure><p>注意，这里有几个GET参数，它们的作用分别是：</p><ul><li>n，必要参数。这是输出信息的数量。比如n=1，即为1条，以此类推，至多输出8条。</li><li>format，非必要。返回结果的格式，不存在或者等于xml时，输出为xml格式，等于js时，输出json格式</li><li>idx，非必要。不存在或者等于0时，输出当天的图片，-1为已经预备用于明天显示的信息，1则为昨天的图片，以此类推，idx最多获取到前16天的图片信息<br>这里将n设定为1、format设定为js、idx设定为1，去发出GET请求，返回的数据：</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"images"</span>: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">"startdate"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"fullstartdate"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"enddate"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"url"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"urlbase"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"copyright"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"copyrightlink"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"title"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"quiz"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"wp"</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">"hsh"</span>: <span class="string">""</span>,</span><br><span class="line">      <span class="attr">"drk"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"top"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"bot"</span>: <span class="number">1</span>,</span><br><span class="line">      <span class="attr">"hs"</span>: []</span><br><span class="line">    &#125;</span><br><span class="line">  ],</span><br><span class="line">  <span class="attr">"tooltips"</span>: &#123;</span><br><span class="line">    <span class="attr">"loading"</span>: <span class="string">"正在加载..."</span>,</span><br><span class="line">    <span class="attr">"previous"</span>: <span class="string">"上一个图像"</span>,</span><br><span class="line">    <span class="attr">"next"</span>: <span class="string">"下一个图像"</span>,</span><br><span class="line">    <span class="attr">"walle"</span>: <span class="string">"此图片不能下载用作壁纸。"</span>,</span><br><span class="line">    <span class="attr">"walls"</span>: <span class="string">"下载今日美图。仅限用作桌面壁纸。"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>其中的 “images” 节点下的 “url” 值便是我们要获取的图像地址。<br>把它取出来，再加上Bing的网址前缀(<a href="http://cn.bing.com" target="_blank" rel="noopener">http://cn.bing.com</a>)即组合成了完整的图像地址。可直接浏览器查看。</p><h3><span id="用php去动态抓取">用PHP去动态抓取</span></h3><p>获取BING每日背景图，构建API、每日抓取下载、部署私人服务器并存储，代码如下：</p><figure class="highlight perl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">// ini_set(<span class="string">'date.timezone'</span>,<span class="string">'Asia/Shanghai'</span>);  <span class="regexp">//</span>设置时区，确定为中国上海时区</span><br><span class="line"> </span><br><span class="line">// 方案一</span><br><span class="line">$path0 = <span class="string">'BingWallpaper'</span>; <span class="regexp">//</span> 定义存放图片的一级目录，这个目录是固定的，需要手动创建并设置写入权</span><br><span class="line">$path = $path0 .<span class="string">'/'</span>. date(<span class="string">"Ym"</span>); <span class="regexp">//</span> 图片缓存文件夹，以当前年月命名并自动新建文件夹</span><br><span class="line">$filename = date(<span class="string">"Ymd"</span>) .<span class="string">'.jpg'</span>;  <span class="regexp">//</span> 用年月日来命名新的文件名</span><br><span class="line"><span class="keyword">if</span> (!file_exists($path .<span class="string">'/'</span>. $filename)) &#123; <span class="regexp">//</span> 如果文件不存在，则说明今天还没有进行缓存</span><br><span class="line">    <span class="keyword">if</span>(!file_exists($path)) &#123; <span class="regexp">//</span> 如果目录不存在</span><br><span class="line">        <span class="keyword">mkdir</span>($path, <span class="number">0777</span>); <span class="regexp">//</span> 创建缓存目录</span><br><span class="line">    &#125;</span><br><span class="line">    $str = file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1'</span>); <span class="regexp">//</span> 读取必应api，获得相应数据</span><br><span class="line">    $str = json_decode($str, true);</span><br><span class="line">    $imgurl = <span class="string">'http://cn.bing.com'</span>. $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'url'</span>];    <span class="regexp">//</span> 获取图片url</span><br><span class="line">    $img = grabImage($imgurl, $path .<span class="string">'/'</span>. $filename); <span class="regexp">//</span> 读取并保存图片</span><br><span class="line">&#125;</span><br><span class="line">function grabImage($url, $filename = <span class="string">""</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span>($url == <span class="string">""</span>) <span class="keyword">return</span> false; <span class="regexp">//</span> 如果$url地址为空，直接退出</span><br><span class="line">    <span class="keyword">if</span> ($filename == <span class="string">""</span>) &#123; <span class="regexp">//</span> 如果没有指定新的文件名</span><br><span class="line">        $ext = strrchr($url, <span class="string">"."</span>);  <span class="regexp">//</span> 得到$url的图片格式</span><br><span class="line">        $filename = date(<span class="string">"Ymd"</span>) . $ext;  <span class="regexp">//</span> 用天月面时分秒来命名新的文件名</span><br><span class="line">    &#125;</span><br><span class="line">    ob_start();         <span class="regexp">//</span> 打开输出</span><br><span class="line">    readfile($url);     <span class="regexp">//</span> 输出图片文件</span><br><span class="line">    $img = ob_get_contents();   <span class="regexp">//</span> 得到浏览器输出</span><br><span class="line">    ob_end_clean();             <span class="regexp">//</span> 清除输出并关闭</span><br><span class="line">    $size = strlen($img);       <span class="regexp">//</span> 得到图片大小</span><br><span class="line">    $fp2 = @fopen($filename, <span class="string">"a"</span>);</span><br><span class="line">    fwrite($fp2, $img);         <span class="regexp">//</span> 向当前目录写入图片文件，并重新命名</span><br><span class="line">    fclose($fp2);</span><br><span class="line">    <span class="keyword">return</span> $filename;           <span class="regexp">//</span> 返回新的文件名</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// <span class="regexp">//</span> 方案二</span><br><span class="line">// $path=<span class="string">'BingWallpaper'</span>;   <span class="regexp">//</span> 定义存放图片的一级目录，这个目录是固定的，需要手动创建并设置写入权</span><br><span class="line">// $path1=$path.<span class="string">'/'</span>.date(<span class="string">'Ym'</span>);  <span class="regexp">//</span> 定义存放图片的二级目录，以当前所处年份来命名</span><br><span class="line">// <span class="keyword">if</span>(!file_exists($path1)) &#123;</span><br><span class="line">//     <span class="keyword">mkdir</span>($path1, <span class="number">0777</span>);</span><br><span class="line">// &#125;  // 判断二级目录是否存在，若不存在，则自动创建并设置写入权</span><br><span class="line">// <span class="regexp">//</span> $path2=$path1.<span class="string">'/'</span>.date(<span class="string">'m'</span>);  <span class="regexp">//</span> 定义存放图片的三级目录，以当前所处月份来命名</span><br><span class="line">// <span class="regexp">//</span> <span class="keyword">if</span>(!file_exists($path2))&#123;</span><br><span class="line">// <span class="regexp">//</span>     <span class="keyword">mkdir</span>($path2, <span class="number">0777</span>);</span><br><span class="line">// <span class="regexp">//</span> &#125;   // 判断三级目录是否存在，若不存在，则自动创建并设置写入权</span><br><span class="line">// <span class="regexp">//</span> $pathurl=$path2.<span class="string">'/'</span>.date(<span class="string">'Ymd'</span>).<span class="string">'.jpg'</span>;   <span class="regexp">//</span> 定义图片名，以当前所处日份来命名</span><br><span class="line">// $pathurl=$path1.<span class="string">'/'</span>.date(<span class="string">'Ymd'</span>).<span class="string">'.jpg'</span>;   <span class="regexp">//</span> 定义图片名，以当前所处日份来命名</span><br><span class="line">// <span class="keyword">if</span>(!is_file($pathurl)) &#123;</span><br><span class="line">//     $str=file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1'</span>);   <span class="regexp">//</span> 获取图片地址，并判断图片是否已经存在</span><br><span class="line">//     <span class="keyword">if</span>(preg_match(<span class="string">"/&lt;urlBase&gt;(.+?)&lt;\/urlBase&gt;/isu"</span>, $str, $matches)) &#123; <span class="regexp">//</span> ies</span><br><span class="line">//         $imgurl=<span class="string">'http://cn.bing.com'</span>.$matches[<span class="number">1</span>].<span class="string">'_1920x1080.jpg'</span>;</span><br><span class="line">//         copy($imgurl, $pathurl);</span><br><span class="line">//     &#125;  //读取对应的图片并写入指定目录</span><br><span class="line">// &#125;</span><br><span class="line">// <span class="regexp">//</span> 显示图片</span><br><span class="line">// <span class="regexp">//</span> header(<span class="string">'Content-Type:image/jpeg'</span>);  <span class="regexp">//</span>定义输出类型</span><br><span class="line">// <span class="regexp">//</span> @ob_end_clean();   <span class="regexp">//</span>擦除缓存</span><br><span class="line">// <span class="regexp">//</span> @readfile($pathurl);  <span class="regexp">//</span>输出本地图片</span><br><span class="line">// <span class="regexp">//</span> @flush();   <span class="regexp">//</span>缓存</span><br><span class="line">// <span class="regexp">//</span> @ob_flush();   <span class="regexp">//</span>输出缓存 </span><br><span class="line">// <span class="regexp">//</span> <span class="keyword">exit</span>();  <span class="regexp">//</span>退出</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// 方案三： + 写入图片信息 参考 https:<span class="regexp">//mkblog</span>.cn/<span class="number">492</span>/</span><br><span class="line">// $path = <span class="string">'temp'</span>;   <span class="regexp">//</span>设置图片缓存文件夹</span><br><span class="line">// $filename = date(<span class="string">"Ymd"</span>) . <span class="string">'.jpg'</span>;  <span class="regexp">//</span>用年月日来命名新的文件名</span><br><span class="line">// <span class="keyword">if</span> (!file_exists($path.<span class="string">'/'</span>. $filename)) &#123; <span class="regexp">//</span>如果文件不存在，则说明今天还没有进行缓存 </span><br><span class="line">//     <span class="keyword">if</span>(!file_exists($path)) //如果目录不存在</span><br><span class="line">//     &#123;</span><br><span class="line">//         <span class="keyword">mkdir</span>($path, <span class="number">0777</span>); <span class="regexp">//</span>创建缓存目录</span><br><span class="line">//     &#125;</span><br><span class="line">//     $str = file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=0&amp;n=1'</span>); <span class="regexp">//</span>读取必应api，获得相应数据</span><br><span class="line">//     $str = json_decode($str,true);</span><br><span class="line">//     $imgurl = <span class="string">'http://cn.bing.com'</span>.$str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'url'</span>];    <span class="regexp">//</span>获取图片url</span><br><span class="line">//     $img = grabImage($imgurl, $path.<span class="string">'/'</span>.$filename); <span class="regexp">//</span>读取并保存图片</span><br><span class="line">//     $handle = fopen(<span class="string">"dat.txt"</span>, <span class="string">"a"</span>);    <span class="regexp">//</span>用于存放图片信息，如果不需要保存图片的相关信息，可以把下面这些去掉。</span><br><span class="line">//     <span class="keyword">if</span> ($handle) &#123;</span><br><span class="line">//         $copyright = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'copyright'</span>];    <span class="regexp">//</span>说明</span><br><span class="line">//         $startdate = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'startdate'</span>];</span><br><span class="line">//         $fullstartdate = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'fullstartdate'</span>];</span><br><span class="line">//         $enddate = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'enddate'</span>];</span><br><span class="line">//         $urlbase = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'urlbase'</span>];</span><br><span class="line">//         $copyrightlink = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'copyrightlink'</span>];</span><br><span class="line">//         $quiz = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'quiz'</span>];</span><br><span class="line">//         $wp = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'wp'</span>];</span><br><span class="line">//         $hsh = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'hsh'</span>];</span><br><span class="line">//         $drk = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'drk'</span>];</span><br><span class="line">//         $top = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'top'</span>];</span><br><span class="line">//         $bot = $str[<span class="string">'images'</span>][<span class="number">0</span>][<span class="string">'bot'</span>];</span><br><span class="line">//         $tempArr = array(<span class="string">"imgurl"</span>=&gt;$imgurl,<span class="string">"copyright"</span>=&gt;$copyright, <span class="string">"startdate"</span>=&gt;$startdate,</span><br><span class="line">//         <span class="string">"fullstartdate"</span>=&gt;$fullstartdate, <span class="string">"enddate"</span>=&gt; $enddate, <span class="string">"urlbase"</span>=&gt;$urlbase,</span><br><span class="line">//         <span class="string">"copyrightlink"</span>=&gt; $copyrightlink, <span class="string">"quiz"</span>=&gt;$quiz, <span class="string">"wp"</span>=&gt; $wp,</span><br><span class="line">//         <span class="string">"hsh"</span>=&gt;$hsh,<span class="string">"drk"</span>=&gt;$drk, <span class="string">"top"</span>=&gt; $top, <span class="string">"bot"</span>=&gt; $bot);   <span class="regexp">//</span>将相关信息放进数组中</span><br><span class="line">//         fwrite($handle, json_encode($tempArr) .<span class="string">"\r\n"</span>); <span class="regexp">//</span>最终以json格式保存在文本文档中</span><br><span class="line">//         fclose($handle);</span><br><span class="line">//     &#125;</span><br><span class="line">// &#125;</span><br><span class="line">// function grabImage($url, $filename = <span class="string">""</span>) &#123;</span><br><span class="line">//     <span class="keyword">if</span>($url == <span class="string">""</span>) <span class="keyword">return</span> false; <span class="regexp">//</span>如果$url地址为空，直接退出</span><br><span class="line">//     <span class="keyword">if</span> ($filename == <span class="string">""</span>) &#123; <span class="regexp">//</span>如果没有指定新的文件名</span><br><span class="line">//         $ext = strrchr($url, <span class="string">"."</span>);  <span class="regexp">//</span>得到$url的图片格式</span><br><span class="line">//         $filename = date(<span class="string">"Ymd"</span>) . $ext;  <span class="regexp">//</span>用天月面时分秒来命名新的文件名</span><br><span class="line">//     &#125;</span><br><span class="line">//     ob_start();         <span class="regexp">//</span>打开输出</span><br><span class="line">//     readfile($url);     <span class="regexp">//</span>输出图片文件</span><br><span class="line">//     $img = ob_get_contents();   <span class="regexp">//</span>得到浏览器输出</span><br><span class="line">//     ob_end_clean();             <span class="regexp">//</span>清除输出并关闭</span><br><span class="line">//     $size = strlen($img);       <span class="regexp">//</span>得到图片大小</span><br><span class="line">//     $fp2 = @fopen($filename, <span class="string">"a"</span>);</span><br><span class="line">//     fwrite($fp2, $img);         <span class="regexp">//</span>向当前目录写入图片文件，并重新命名</span><br><span class="line">//     fclose($fp2);</span><br><span class="line">//     <span class="keyword">return</span> $filename;           <span class="regexp">//</span>返回新的文件名</span><br><span class="line">// &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// ******************************************************************************************</span><br><span class="line">// <span class="regexp">//</span> 仅使用其作为背景图API，新建PHP文件</span><br><span class="line">// <span class="regexp">//</span> Bing壁纸API - <span class="number">1</span></span><br><span class="line">// $str=file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1'</span>);</span><br><span class="line">// <span class="keyword">if</span>(preg_match(<span class="string">"/(.+?)&lt;\/url&gt;/ies"</span>,$str,$matches))&#123;</span><br><span class="line">// $imgurl=<span class="string">'http://cn.bing.com'</span>.$matches[<span class="number">1</span>];</span><br><span class="line">// &#125;</span><br><span class="line">// <span class="keyword">if</span>($imgurl)&#123;</span><br><span class="line">// header(<span class="string">'Content-Type: image/JPEG'</span>);</span><br><span class="line">// @ob_end_clean();</span><br><span class="line">// @readfile($imgurl);</span><br><span class="line">// @flush(); @ob_flush();</span><br><span class="line">// <span class="keyword">exit</span>();</span><br><span class="line">// &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">// <span class="keyword">exit</span>(<span class="string">'error'</span>);</span><br><span class="line">// &#125;</span><br><span class="line">// <span class="regexp">//</span> Warning: preg_match(): The /e modifier is <span class="keyword">no</span> longer supported, <span class="keyword">use</span> preg_replace_callback instead in /Library/WebServer/Documents/phpMyProjects/php-test/index4.php on line <span class="number">4</span></span><br><span class="line">// <span class="regexp">//</span> error</span><br><span class="line"></span><br><span class="line">// <span class="regexp">//</span> Bing壁纸API - <span class="number">2</span></span><br><span class="line">// $str = file_get_contents(<span class="string">'http://cn.bing.com/HPImageArchive.aspx?idx=0&amp;n=1'</span>);   <span class="regexp">//</span> 从bing获取数据</span><br><span class="line">// <span class="keyword">if</span>(preg_match(<span class="string">'/&lt;url&gt;([^&lt;]+)&lt;\/url&gt;/isU'</span>, $str, $matches)) &#123; <span class="regexp">//</span> 正则匹配抓取图片url</span><br><span class="line">//     $imgurl = <span class="string">'http://cn.bing.com'</span>.$matches[<span class="number">1</span>];</span><br><span class="line">// &#125; <span class="keyword">else</span> &#123;  <span class="regexp">//</span> 如果由于某些原因，没抓取到图片地址</span><br><span class="line">//     $imgurl = <span class="string">'http://img.infinitynewtab.com/InfinityWallpaper/2_14.jpg'</span>; <span class="regexp">//</span> 使用默认的图像(默认图像链接可修改为自己的)</span><br><span class="line">// &#125;</span><br><span class="line">// echo <span class="string">"$imgurl"</span>;</span><br><span class="line">// echo <span class="string">"&lt;img src='$imgurl' /&gt;"</span>;</span><br><span class="line">// header(<span class="string">"Location:&#123;$imgurl&#125;"</span>); <span class="regexp">//</span> 跳转至目标图像</span><br></pre></td></tr></table></figure><h3><span id="文件管理">文件管理</span></h3><p><a href="https://github.com/DirectoryLister/DirectoryLister" target="_blank" rel="noopener">DirectoryLister</a></p><h2><span id="参考链接">参考链接</span></h2><p><a href="https://mkblog.cn/492/" target="_blank" rel="noopener">参考链接</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;bing每日美图&quot;&gt;BING每日美图&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;span id=&quot;解析api&quot;&gt;解析API&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;&lt;a href=&quot;www.bing.com&quot;&gt;bing 搜索&lt;/a&gt;&lt;/p&gt;
&lt;!-- ![](http:
      
    
    </summary>
    
    
    
      <category term="BING" scheme="https://cl9000.github.io/tags/BING/"/>
    
      <category term="bing 图" scheme="https://cl9000.github.io/tags/bing-%E5%9B%BE/"/>
    
  </entry>
  
  <entry>
    <title>Mac 定时任务 launchctl</title>
    <link href="https://cl9000.github.io/2017/04/09/Mac-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1-launchctl/"/>
    <id>https://cl9000.github.io/2017/04/09/Mac-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1-launchctl/</id>
    <published>2017-04-09T11:04:12.000Z</published>
    <updated>2020-04-13T09:48:58.266Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="mac-定时任务-launchctl">Mac 定时任务 launchctl</span></h2><h3><span id="launchctl">launchctl</span></h3><p>launchctl: 是一个统一的服务管理框架，可以启动、停止和管理守护进程、应用程序、进程和脚本等。<br>launchctl是通过配置文件来指定执行周期和任务的。</p><h3><span id="配置文件plist文件">配置文件（plist文件）</span></h3><p>launchctl 将根据plist文件的信息来启动任务。</p><h5><span id="plist文件位置">plist文件位置：</span></h5><ul><li>~/Library/LaunchAgents 由用户自己定义的任务项（推荐）</li><li>/Library/LaunchAgents 由管理员为用户定义的任务项</li><li>/Library/LaunchDaemons 由管理员定义的守护进程任务项</li><li>/System/Library/LaunchAgents 由Mac OS X为用户定义的任务项</li><li>/System/Library/LaunchDaemons 由Mac OS X定义的守护进程任务项</li></ul><h5><span id="plist部分参数说明">plist部分参数说明：</span></h5><ul><li>Label：全局唯一性；</li><li>ProgramArguments：指定要运行的脚本</li><li>StartCalendarInterval：可以指定脚本在多少分钟、小时、天、星期几、月时间上执行</li><li>StartInterval：指定脚本每间隔多长时间（单位：秒）执行一次；</li><li>StandardInPath、StandardOutPath、StandardErrorPath：标准的输入、输出、错误文件。</li></ul><h3><span id="相关命令">相关命令</span></h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 加载任务, -w选项会将plist文件中无效的key覆盖掉，建议加上</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl load -w com.test.plist</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 删除任务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl unload -w com.test.plist</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 查看任务列表, 使用 grep <span class="string">'任务部分名字'</span> 过滤</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl list | grep <span class="string">'test.demo'</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 开始任务 - 立即执行</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl start com.test.plist</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 结束任务</span></span><br><span class="line"><span class="meta">$</span><span class="bash"> launchctl stop com.test.plist</span></span><br></pre></td></tr></table></figure><h3><span id="使用">使用</span></h3><ol><li><p>新建</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">demo</span></span><br><span class="line">    <span class="selector-tag">-</span> <span class="selector-tag">com</span><span class="selector-class">.test</span><span class="selector-class">.plist</span></span><br><span class="line">    <span class="selector-tag">-</span> <span class="selector-tag">testshell</span><span class="selector-class">.sh</span></span><br></pre></td></tr></table></figure></li><li><p>内容：<br>com.test.plist</p></li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">plist</span> <span class="meta-keyword">PUBLIC</span> <span class="meta-string">"-//Apple//DTD PLIST 1.0//EN"</span> <span class="meta-string">"http://www.apple.com/DTDs/PropertyList-1.0.dtd"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plist</span> <span class="attr">version</span>=<span class="string">"1.0"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- Label唯一的标识 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Label<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>com.test<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 要运行的程序， 如果省略这个选项，会把ProgramArguments的第一个</span></span><br><span class="line"><span class="comment">    元素作为要运行的程序 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Program<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/weichanglu/Desktop/demo/testShell.sh<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 指定要运行的脚本 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>ProgramArguments<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/weichanglu/Desktop/demo/testShell.sh<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 指定运行的时间 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StartCalendarInterval<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Minute<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>30<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Hour<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>9<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Day<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>1<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Month<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>5<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- 0和7都指星期天 --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">key</span>&gt;</span>Weekday<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">integer</span>&gt;</span>0<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 运行间隔，与StartCalenderInterval使用其一，单位为秒 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StartInterval<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">integer</span>&gt;</span>3<span class="tag">&lt;/<span class="name">integer</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 标准输入文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StandardInPath<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/uniflor/runin.log<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 标准输出文件 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StandardOutPath<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/weichanglu/Desktop/demo/success.log<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 标准错误输出文件，错误日志 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>StandardErrorPath<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>/Users/weichanglu/Desktop/demo/error.log<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plist</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="http://testshell.sh" target="_blank" rel="noopener">testshell.sh</a></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"> <span class="comment">#记录时间 - 自定义脚本或Python脚本</span></span><br><span class="line"><span class="built_in">echo</span> `date` &gt;&gt; ~/Desktop/demo/success.log</span><br><span class="line">time=$(date <span class="string">"+%Y-%m-%d %H：%M：%S"</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"<span class="variable">$time</span>"</span> &gt;&gt; ~/Desktop/demo/time.txt</span><br></pre></td></tr></table></figure><ol start="3"><li><p>将 plist 文件复制到 <code>~/Library/LaunchAgents</code> 目录下，需要权限。</p></li><li><p>终端执行 <code>$ cd ~/Library/LaunchAgents</code>，目录下，执行启动服务命令，参考上面命令。</p></li><li><p>查看输出文件。</p></li></ol><h3><span id="路径基础概念">路径基础概念</span></h3><h6><span id="systemlibrary和library和~library目录的区别">/System/Library和/Library和~/Library目录的区别？</span></h6><blockquote><p>/System/Library目录是存放Apple自己开发的软件。<br>/Library目录是系统管理员存放的第三方软件。<br>~/Library/是用户自己存放的第三方软件。</p></blockquote><h6><span id="launchdaemons和launchagents的区别">LaunchDaemons和LaunchAgents的区别？</span></h6><blockquote><p>LaunchDaemons是用户未登陆前就启动的服务（守护进程）。<br>LaunchAgents是用户登陆后启动的服务（守护进程）。</p></blockquote><h3><span id="补充">补充</span></h3><ol><li>运行异常：<code>... operation not permitted ...</code><br>解决方案：暂时关闭Mac rootless机制</li><li>权限问题<br>注意，脚本要改成可执行的权限：<br><code>chmod 777 *.sh</code></li></ol><h3><span id="launchctl的gui工具">launchctl的GUI工具</span></h3><p><a href="https://www.soma-zone.com/LaunchControl/" target="_blank" rel="noopener">LaunchControl</a>，用这个工具可以查看到所有的launchctl定时任务。并用GUI的方式进行修改执行等。</p><h3><span id="参考">参考</span></h3><p><a href="http://codingpub.github.io/2016/10/27/OS-X-%E6%B7%BB%E5%8A%A0%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/" target="_blank" rel="noopener">OS X 添加定时任务</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;mac-定时任务-launchctl&quot;&gt;Mac 定时任务 launchctl&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;span id=&quot;launchctl&quot;&gt;launchctl&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;launchctl: 是一个统一的服务管理框架，可
      
    
    </summary>
    
    
      <category term="Mac" scheme="https://cl9000.github.io/categories/Mac/"/>
    
    
      <category term="Mac" scheme="https://cl9000.github.io/tags/Mac/"/>
    
      <category term="定时任务" scheme="https://cl9000.github.io/tags/%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1/"/>
    
      <category term="launchctl" scheme="https://cl9000.github.io/tags/launchctl/"/>
    
  </entry>
  
  <entry>
    <title>Mac rootless机制</title>
    <link href="https://cl9000.github.io/2017/04/03/Mac-rootless%E6%9C%BA%E5%88%B6/"/>
    <id>https://cl9000.github.io/2017/04/03/Mac-rootless%E6%9C%BA%E5%88%B6/</id>
    <published>2017-04-03T10:08:22.000Z</published>
    <updated>2020-04-09T11:11:23.949Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="mac-rootless机制-operation-not-permitted">Mac rootless机制 <code>Operation not permitted</code></span></h2><p>Mac使用 <code>sudo</code> 或切换成 <code>root</code> 权限，还是出现<br><code>Operation not permitted</code></p><p>这是由于 Max OS X El 的<code>rootless</code>机制，即sudo也不能操作部分文件目录， 所以如果需要执行，需要先关闭rootless功能。可以进入恢复模式关闭<code>rootless</code>机制：</p><p>1、重启Mac，按 <code>command+R</code> 进入恢复模式</p><p>2、选择终端，在左上角，输入指令：</p><p><code>$ csrutil disable</code></p><p>3、重启后让机器正常启动，可以在终端查看<code>rootless</code>状态：<br><code>$ csrutil status</code></p><p>正常情况下rootless已经关闭。</p><p>4、要想重新开启<code>rootless</code>机制，参照步骤1，输入指令：<br><code>$ csrutil enable</code></p><p>另外一种方式更简洁， 但是我没有验证过， 自己可以动手试一下：</p><p>不需要进入恢复模式， 在teminal中输入</p><p>sudo nvram boot-args=”kext-dev-mode=1 rootless=0″;sudo reboot</p><p>输入密码后重启。</p><p>打开rootless</p><p>sudo nvram boot-args=”rootless=1″ 重启</p><p>查看rootless<br>nvram boot-args</p><p>查看那些目录有rootless限制</p><p>cd /</p><p>ls -lO|grep restricted</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;mac-rootless机制-operation-not-permitted&quot;&gt;Mac rootless机制 &lt;code&gt;Operation not permitted&lt;/code&gt;&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Mac使用 &lt;code&gt;sudo&lt;/c
      
    
    </summary>
    
    
      <category term="Mac" scheme="https://cl9000.github.io/categories/Mac/"/>
    
    
      <category term="Mac" scheme="https://cl9000.github.io/tags/Mac/"/>
    
      <category term="rootless" scheme="https://cl9000.github.io/tags/rootless/"/>
    
  </entry>
  
  <entry>
    <title>fullpage.js 使用</title>
    <link href="https://cl9000.github.io/2017/04/01/fullpage-js/"/>
    <id>https://cl9000.github.io/2017/04/01/fullpage-js/</id>
    <published>2017-04-01T10:19:35.000Z</published>
    <updated>2020-04-10T10:49:36.261Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="fullpagejs">fullpage.js</span></h2><h3><span id="链接">链接</span></h3><ul><li><a href="https://github.com/alvarotrigo/fullPage.js" target="_blank" rel="noopener">fullPage.js 官方</a></li><li><a href="https://alvarotrigo.com/fullPage/" target="_blank" rel="noopener">fullPage.js 页面</a></li></ul><h3><span id="在使用">在使用</span></h3><ul><li><a href="http://i.360.cn/security/accountguard?sb_param=213339c16e226d74ff0ec3b949fd52d6" target="_blank" rel="noopener">360</a></li><li><a href="http://themify.me/demo/#theme=fullpane" target="_blank" rel="noopener">http://themify.me/demo/#theme=fullpane</a></li><li><a href="http://www.kesstrio.com/#galleryPage" target="_blank" rel="noopener">http://www.kesstrio.com/#galleryPage</a></li><li><a href="http://boxx.hk/tc/" target="_blank" rel="noopener">http://boxx.hk/tc/</a></li><li><a href="http://www.camanihome.com/#contacts" target="_blank" rel="noopener">http://www.camanihome.com/#contacts</a></li><li><a href="https://lingualeo.com/pt" target="_blank" rel="noopener">https://lingualeo.com/pt</a></li><li><a href="https://github.com/cl9000/fullPage.js#who-is-using-fullpagejs" target="_blank" rel="noopener">更多 …</a></li></ul><h3><span id="使用-具体参考官方文档">使用 - 具体参考官方文档</span></h3><p>index.html</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=utf-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>fullpage-js<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"style.css"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"fullpage.css"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span> <span class="attr">style</span>=<span class="string">"background: #fc6c7c;text-align: center;"</span>&gt;</span></span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- fullpage --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"fullpage"</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- active 设置默认起始页 --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span>Some section<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section active"</span>&gt;</span>Some section<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span> <span class="attr">data-anchor</span>=<span class="string">"slide1"</span>&gt;</span> slide 1 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span> <span class="attr">data-anchor</span>=<span class="string">"slide2"</span>&gt;</span> slide 2 <span class="tag">&lt;<span class="name">img</span> <span class="attr">data-src</span>=<span class="string">"static/bg.jpg"</span> <span class="attr">style</span>=<span class="string">"width: 80%;"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span> <span class="attr">data-anchor</span>=<span class="string">"slide3"</span>&gt;</span> slide 3</span><br><span class="line">        <span class="comment">&lt;!-- &lt;audio controls data-autoplay data-keepplaying&gt;</span></span><br><span class="line"><span class="comment">          &lt;source src="http://metakoncept.hr/horse.ogg" type="audio/ogg"&gt;</span></span><br><span class="line"><span class="comment">        &lt;/audio&gt;</span></span><br><span class="line"><span class="comment">        &lt;video controls&gt; --&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- &lt;source data-src="video.webm" type="video/webm" /&gt; --&gt;</span></span><br><span class="line">          <span class="comment">&lt;!-- &lt;source data-src="static/20190324.mp4" type="video/mp4" /&gt;</span></span><br><span class="line"><span class="comment">        &lt;/video&gt;  --&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"slide"</span> <span class="attr">data-anchor</span>=<span class="string">"slide4"</span>&gt;</span> slide 4 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section"</span>&gt;</span>整个视图<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section fp-auto-height"</span>&gt;</span><span class="tag">&lt;<span class="name">h2</span>&gt;</span>fp-auto-height 自动高度<span class="tag">&lt;/<span class="name">h2</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"section fp-auto-height-responsive"</span>&gt;</span>fp-auto-height-responsive 全屏，直到响应模式终止。 根据定义调整大小，可能是大于或小于视口<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="comment">&lt;!-- 以下行是可选的。 只有在使用选项 css3:false ，并且您希望使用其他缓动效果，而非 linear、swing 或 easeInOutCubic 时才有必要。 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;script src="vendors/easings.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 以下行仅在使用选项 scrollOverflow:true 的情况下是必需的 --&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- &lt;script type="text/javascript" src="vendors/scrolloverflow.min.js"&gt;&lt;/script&gt; --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"fullpage.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- fullpage.js 初始化 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="actionscript">    <span class="keyword">var</span> myFullpage = <span class="keyword">new</span> fullpage(<span class="string">'#fullpage'</span>, &#123;</span></span><br><span class="line"><span class="actionscript">      anchors:[<span class="string">'firstPage'</span>, <span class="string">'secondPage'</span>, <span class="string">'thirdPage'</span>,<span class="string">'fourthPage'</span>, <span class="string">'fifthPage'</span>],</span></span><br><span class="line"><span class="actionscript">      sectionsColor: [<span class="string">'#fc6c7c'</span>, <span class="string">'#4BBFC3'</span>, <span class="string">'#7BAABE'</span>, <span class="string">'#898989'</span>, <span class="string">'green'</span>]</span></span><br><span class="line">    &#125;);</span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  <span class="comment">&lt;!-- 代码块 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell-header"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"shell-header-actions shell-header-close"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"shell-header-actions shell-header-minimize"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"shell-header-actions shell-header-maximize"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"shell-tabs"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#html"</span> <span class="attr">class</span>=<span class="string">"shell-tab active"</span>&gt;</span>HTML<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#js"</span> <span class="attr">class</span>=<span class="string">"shell-tab"</span>&gt;</span>JS<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"https://codepen.io/alvarotrigo/pen/qqabrp"</span> <span class="attr">class</span>=<span class="string">"shell-demo"</span>&gt;</span>See in Codepen<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell-body"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell-tab-content active"</span> <span class="attr">data-tab</span>=<span class="string">"html"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">figure</span> <span class="attr">class</span>=<span class="string">"highlight"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"language-html"</span> <span class="attr">data-lang</span>=<span class="string">"html"</span>&gt;</span>222<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line">truetrue  <span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"shell-tab-content"</span> <span class="attr">data-tab</span>=<span class="string">"js"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">figure</span> <span class="attr">class</span>=<span class="string">"highlight"</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">pre</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;<span class="name">code</span> <span class="attr">class</span>=<span class="string">"language-javascript"</span> <span class="attr">data-lang</span>=<span class="string">"javascript"</span>&gt;</span></span><br><span class="line">truetruetruetrue<span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color: #e5e4e4;"</span>&gt;</span>111<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">truetruetrue<span class="tag">&lt;/<span class="name">code</span>&gt;</span></span><br><span class="line">truetrue  <span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">figure</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 代码块 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="actionscript"><span class="comment">// Jquery获取第一个子元素</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// ($(".shell-tabs").children(":first")).on('click', function () &#123;</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">//   alert(222)</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// &#125;);</span></span></span><br><span class="line"><span class="actionscript"><span class="comment">// Jquery获取第几个子元素</span></span></span><br><span class="line"><span class="javascript">$(<span class="string">".shell-tabs a"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> index = $(<span class="string">".shell-tabs a"</span>).index(<span class="keyword">this</span>);</span></span><br><span class="line">    if(0 == index) &#123;</span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-tabs"</span>).children(<span class="string">'a'</span>).eq(<span class="number">0</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-tabs"</span>).children(<span class="string">'a'</span>).eq(<span class="number">1</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-body"</span>).children(<span class="string">"div"</span>).eq(<span class="number">0</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-body"</span>).children(<span class="string">"div"</span>).eq(<span class="number">1</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="actionscript">    &#125; <span class="keyword">else</span> &#123;</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-tabs"</span>).children(<span class="string">'a'</span>).eq(<span class="number">0</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-tabs"</span>).children(<span class="string">'a'</span>).eq(<span class="number">1</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-body"</span>).children(<span class="string">"div"</span>).eq(<span class="number">0</span>).removeClass(<span class="string">"active"</span>);</span></span><br><span class="line"><span class="javascript">      $(<span class="string">".shell-body"</span>).children(<span class="string">"div"</span>).eq(<span class="number">1</span>).addClass(<span class="string">"active"</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"> &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@charset</span> <span class="string">"UTF-8"</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 代码块 */</span></span><br><span class="line"><span class="selector-class">.shell</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">50%</span> - <span class="number">54px</span>);</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#173549</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">5px</span> <span class="number">5px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: left;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">54px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">1030px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.shell</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">60%</span> - <span class="number">54px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span> <span class="number">900px</span>) &#123;</span><br><span class="line">  <span class="selector-class">.shell</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#e5e4e4</span>;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">7px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header-actions</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">2px</span>;</span><br><span class="line">  <span class="comment">/* box-shadow: 0px 0px 10px 1px; */</span></span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-demo</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">15px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#173549</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-demo</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">text-decoration</span>: underline;</span><br><span class="line">  <span class="attribute">float</span>: right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header-close</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header-minimize</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: yellow;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-header-maximize</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">5px</span> <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">display</span>: inline-block;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">14px</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#173549</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab-content</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-tab-content</span><span class="selector-class">.active</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.shell-body</span> &#123;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">2.18em</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">1.4em</span>;</span><br><span class="line">  <span class="attribute">overflow-x</span>: scroll;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 代码块 */</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;fullpagejs&quot;&gt;fullpage.js&lt;/span&gt;&lt;/h2&gt;
&lt;h3&gt;&lt;span id=&quot;链接&quot;&gt;链接&lt;/span&gt;&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/alvarotrigo/fullPage
      
    
    </summary>
    
    
      <category term="JS" scheme="https://cl9000.github.io/categories/JS/"/>
    
    
      <category term="fullpage.js" scheme="https://cl9000.github.io/tags/fullpage-js/"/>
    
  </entry>
  
  <entry>
    <title>[CSS] Loading</title>
    <link href="https://cl9000.github.io/2017/03/27/CSS-Loading/"/>
    <id>https://cl9000.github.io/2017/03/27/CSS-Loading/</id>
    <published>2017-03-27T14:17:54.000Z</published>
    <updated>2020-04-14T02:17:53.523Z</updated>
    
    <content type="html"><![CDATA[<p>基于CSS绘制的Loading，使用CSS的动画效果。</p><h4><span id="loading001">loading001</span></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- loading-001 html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"loader-wrapper"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"loader"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loader-section section-left"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loader-section section-right"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- loading-001 CSS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="keyword">@keyframes</span> spin &#123;</span></span><br><span class="line">        0% &#123;</span><br><span class="line">            -webkit-transform: rotate(0deg);</span><br><span class="line">            transform: rotate(0deg);</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">            -webkit-transform: rotate(360deg);</span><br><span class="line">            transform: rotate(360deg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-id">#loader-wrapper</span> <span class="selector-class">.loader-section</span> &#123;</span></span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        width: 51%;</span><br><span class="line">        height: 100%;</span><br><span class="line"><span class="css">        <span class="selector-tag">background</span>: <span class="selector-id">#222222</span>;</span></span><br><span class="line">        z-index: 2000;</span><br><span class="line">        -webkit-transform: translateX(0);</span><br><span class="line">        transform: translateX(0);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-id">#loader-wrapper</span> <span class="selector-class">.loader-section</span><span class="selector-class">.section-left</span> &#123;</span></span><br><span class="line">        left: 0;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-id">#loader-wrapper</span> <span class="selector-class">.loader-section</span><span class="selector-class">.section-right</span> &#123;</span></span><br><span class="line">        right: 0;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-id">#loader</span> &#123;</span></span><br><span class="line">        display: block;</span><br><span class="line">        position: relative;</span><br><span class="line">        left: 50%;</span><br><span class="line">        top: 50%;</span><br><span class="line">        width: 150px;</span><br><span class="line">        height: 150px;</span><br><span class="line">        margin: -75px 0 0 -75px;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        border: 3px solid transparent;</span><br><span class="line"><span class="css">        <span class="selector-tag">border-top-color</span>: <span class="selector-id">#3498db</span>;</span></span><br><span class="line">        -webkit-animation: spin 2s linear infinite;</span><br><span class="line">        animation: spin 2s linear infinite;</span><br><span class="line">        z-index: 2001;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-id">#loader</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line">        content: "";</span><br><span class="line">        position: absolute;</span><br><span class="line">        top: 5px;</span><br><span class="line">        left: 5px;</span><br><span class="line">        right: 5px;</span><br><span class="line">        bottom: 5px;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        border: 3px solid transparent;</span><br><span class="line"><span class="css">        <span class="selector-tag">border-top-color</span>: <span class="selector-id">#e74c3c</span>;</span></span><br><span class="line">        -webkit-animation: spin 3s linear infinite;</span><br><span class="line">        animation: spin 3s linear infinite;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-id">#loader</span><span class="selector-pseudo">::after</span> &#123;</span></span><br><span class="line">        content: "";</span><br><span class="line">        position: absolute;</span><br><span class="line">        top: 15px;</span><br><span class="line">        left: 15px;</span><br><span class="line">        right: 15px;</span><br><span class="line">        bottom: 15px;</span><br><span class="line">        border-radius: 50%;</span><br><span class="line">        border: 3px solid transparent;</span><br><span class="line"><span class="css">        <span class="selector-tag">border-top-color</span>: <span class="selector-id">#f9c922</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">spin</span> 1<span class="selector-class">.5s</span> <span class="selector-tag">linear</span> <span class="selector-tag">infinite</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">animation</span>: <span class="selector-tag">spin</span> 1<span class="selector-class">.5s</span> <span class="selector-tag">linear</span> <span class="selector-tag">infinite</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4><span id="loading002">loading002</span></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- loading-002 html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"loading"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"circle-one"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"circle-two"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- loading-002 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="keyword">@keyframes</span> spinPulse &#123;</span></span><br><span class="line">        0% &#123;</span><br><span class="line">            -webkit-transform: rotate(160deg);</span><br><span class="line">            opacity: 0;</span><br><span class="line"><span class="css">            <span class="selector-tag">box-shadow</span>: 0 0 1<span class="selector-tag">px</span> <span class="selector-id">#505050</span>;</span></span><br><span class="line">        &#125;</span><br><span class="line">        50% &#123;</span><br><span class="line">            -webkit-transform: rotate(145deg);</span><br><span class="line">            opacity: 1;</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">            -webkit-transform: rotate(-320deg);</span><br><span class="line">            opacity: 0;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="keyword">@keyframes</span> spinoffPulse &#123;</span></span><br><span class="line">        0% &#123;</span><br><span class="line">            -webkit-transform: rotate(0deg);</span><br><span class="line">        &#125;</span><br><span class="line">        100% &#123;</span><br><span class="line">            -webkit-transform: rotate(360deg);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.loading</span> &#123;</span></span><br><span class="line">        position: fixed;</span><br><span class="line">        width: 100%;</span><br><span class="line">        height: 100%;</span><br><span class="line">        top: 50%;</span><br><span class="line">        left: 50%;</span><br><span class="line">        z-index: 99;</span><br><span class="line">        transform: translateX(-50%);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.loading</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line">        content: ' ';</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: -50%;</span><br><span class="line">        left: 0;</span><br><span class="line">        right: 0;</span><br><span class="line">        bottom: 0;</span><br><span class="line"><span class="css">        <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(74, 74, 74, 0<span class="selector-class">.16</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.loading</span> <span class="selector-class">.circle-one</span> &#123;</span></span><br><span class="line">        background-color: rgba(0, 0, 0, 0);</span><br><span class="line"><span class="css">        <span class="selector-tag">border</span>: 5<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">rgba</span>(0, 183, 229, 0<span class="selector-class">.9</span>);</span></span><br><span class="line"><span class="css">        <span class="selector-tag">opacity</span>: <span class="selector-class">.9</span>;</span></span><br><span class="line">        border-right: 5px solid rgba(0, 0, 0, 0);</span><br><span class="line">        border-left: 5px solid rgba(0, 0, 0, 0);</span><br><span class="line">        border-radius: 50px;</span><br><span class="line"><span class="css">        <span class="selector-tag">box-shadow</span>: 0 0 35<span class="selector-tag">px</span> <span class="selector-id">#2187e7</span>;</span></span><br><span class="line">        width: 50px;</span><br><span class="line">        height: 50px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        animation: spinPulse 1s infinite linear;</span><br><span class="line">        -moz-animation: spinPulse 1s infinite ease-in-out;</span><br><span class="line">        -webkit-animation: spinPulse 1s infinite linear;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.loading</span> <span class="selector-class">.circle-two</span> &#123;</span></span><br><span class="line">        background-color: rgba(0, 0, 0, 0);</span><br><span class="line"><span class="css">        <span class="selector-tag">border</span>: 5<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-tag">rgba</span>(0, 183, 229, 0<span class="selector-class">.9</span>);</span></span><br><span class="line"><span class="css">        <span class="selector-tag">opacity</span>: <span class="selector-class">.9</span>;</span></span><br><span class="line">        border-left: 5px solid rgba(0, 0, 0, 0);</span><br><span class="line">        border-right: 5px solid rgba(0, 0, 0, 0);</span><br><span class="line">        border-radius: 50px;</span><br><span class="line"><span class="css">        <span class="selector-tag">box-shadow</span>: 0 0 15<span class="selector-tag">px</span> <span class="selector-id">#2187e7</span>;</span></span><br><span class="line">        width: 30px;</span><br><span class="line">        height: 30px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -40px;</span><br><span class="line">        animation: spinoffPulse 1s infinite linear;</span><br><span class="line">        -moz-animation: spinoffPulse 1s infinite linear;</span><br><span class="line">        -webkit-animation: spinoffPulse 1s infinite linear;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4><span id="loading003-极简插件">loading003 - 极简插件</span></h4><p><a href="https://chrome.zzzmh.cn/#index" target="_blank" rel="noopener">极简插件</a></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- loading003 - html --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"preloader-body"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"cube-wrapper"</span> <span class="attr">style</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"cube-folding"</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"leaf1"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"leaf2"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"leaf3"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;<span class="name">span</span></span></span><br><span class="line"><span class="tag">            <span class="attr">class</span>=<span class="string">"leaf4"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"loading"</span> <span class="attr">data-name</span>=<span class="string">"Loading"</span>&gt;</span>Loading<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- loading003 - CSS --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-id">#preloader-body</span> &#123;</span></span><br><span class="line">      position: fixed;</span><br><span class="line">      top: 0;</span><br><span class="line">      left: 0;</span><br><span class="line">      right: 0;</span><br><span class="line">      bottom: 0;</span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span>: <span class="selector-id">#fff</span>;</span></span><br><span class="line">      z-index: 9999;</span><br><span class="line">  </span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-class">.cube-folding</span> &#123;</span></span><br><span class="line">      width: 50px;</span><br><span class="line">      height: 50px;</span><br><span class="line">      display: inline-block;</span><br><span class="line">      -moz-transform: rotate(45deg);</span><br><span class="line">      -ms-transform: rotate(45deg);</span><br><span class="line">      -webkit-transform: rotate(45deg);</span><br><span class="line">      transform: rotate(45deg);</span><br><span class="line">      font-size: 0;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-class">.cube-folding</span> <span class="selector-tag">span</span> &#123;</span></span><br><span class="line">      position: relative;</span><br><span class="line">      width: 25px;</span><br><span class="line">      height: 25px;</span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-transform</span>: <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-ms-transform</span>: <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-transform</span>: <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">transform</span>: <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line">      display: inline-block;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-class">.cube-folding</span> <span class="selector-tag">span</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line">      content: '';</span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span>: <span class="selector-id">#007ee5</span>;</span></span><br><span class="line">      position: absolute;</span><br><span class="line">      left: 0;</span><br><span class="line">      top: 0;</span><br><span class="line">      display: block;</span><br><span class="line">      width: 25px;</span><br><span class="line">      height: 25px;</span><br><span class="line">      -moz-transform-origin: 100% 100%;</span><br><span class="line">      -ms-transform-origin: 100% 100%;</span><br><span class="line">      -webkit-transform-origin: 100% 100%;</span><br><span class="line">      transform-origin: 100% 100%;</span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-animation</span>: <span class="selector-tag">folding</span> 2<span class="selector-class">.5s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span> <span class="selector-tag">both</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">folding</span> 2<span class="selector-class">.5s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span> <span class="selector-tag">both</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">animation</span>: <span class="selector-tag">folding</span> 2<span class="selector-class">.5s</span> <span class="selector-tag">infinite</span> <span class="selector-tag">linear</span> <span class="selector-tag">both</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-class">.cube-folding</span> <span class="selector-class">.leaf2</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-transform</span>: <span class="selector-tag">rotateZ</span>(90<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-ms-transform</span>: <span class="selector-tag">rotateZ</span>(90<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-transform</span>: <span class="selector-tag">rotateZ</span>(90<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">transform</span>: <span class="selector-tag">rotateZ</span>(90<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-class">.cube-folding</span> <span class="selector-class">.leaf2</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-animation-delay</span>: 0<span class="selector-class">.3s</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-animation-delay</span>: 0<span class="selector-class">.3s</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">animation-delay</span>: 0<span class="selector-class">.3s</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span>: <span class="selector-id">#34a4ff</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-class">.cube-folding</span> <span class="selector-class">.leaf3</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-transform</span>: <span class="selector-tag">rotateZ</span>(270<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-ms-transform</span>: <span class="selector-tag">rotateZ</span>(270<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-transform</span>: <span class="selector-tag">rotateZ</span>(270<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">transform</span>: <span class="selector-tag">rotateZ</span>(270<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-class">.cube-folding</span> <span class="selector-class">.leaf3</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-animation-delay</span>: 0<span class="selector-class">.9s</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-animation-delay</span>: 0<span class="selector-class">.9s</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">animation-delay</span>: 0<span class="selector-class">.9s</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span>: <span class="selector-id">#83c7ff</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-class">.cube-folding</span> <span class="selector-class">.leaf4</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-transform</span>: <span class="selector-tag">rotateZ</span>(180<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-ms-transform</span>: <span class="selector-tag">rotateZ</span>(180<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-transform</span>: <span class="selector-tag">rotateZ</span>(180<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line"><span class="css">      <span class="selector-tag">transform</span>: <span class="selector-tag">rotateZ</span>(180<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(1<span class="selector-class">.1</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-class">.cube-folding</span> <span class="selector-class">.leaf4</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-animation-delay</span>: 0<span class="selector-class">.6s</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-animation-delay</span>: 0<span class="selector-class">.6s</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">animation-delay</span>: 0<span class="selector-class">.6s</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span>: <span class="selector-id">#5cb6ff</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="keyword">@-moz-keyframes</span> folding &#123;</span></span><br><span class="line">  </span><br><span class="line">      0%,</span><br><span class="line">      10% &#123;</span><br><span class="line">        -moz-transform: perspective(140px) rotateX(-180deg);</span><br><span class="line">        transform: perspective(140px) rotateX(-180deg);</span><br><span class="line">        opacity: 0;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      25%,</span><br><span class="line">      75% &#123;</span><br><span class="line">        -moz-transform: perspective(140px) rotateX(0deg);</span><br><span class="line">        transform: perspective(140px) rotateX(0deg);</span><br><span class="line">        opacity: 1;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      90%,</span><br><span class="line">      100% &#123;</span><br><span class="line">        -moz-transform: perspective(140px) rotateY(180deg);</span><br><span class="line">        transform: perspective(140px) rotateY(180deg);</span><br><span class="line">        opacity: 0;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="keyword">@-webkit-keyframes</span> folding &#123;</span></span><br><span class="line">  </span><br><span class="line">      0%,</span><br><span class="line">      10% &#123;</span><br><span class="line">        -webkit-transform: perspective(140px) rotateX(-180deg);</span><br><span class="line">        transform: perspective(140px) rotateX(-180deg);</span><br><span class="line">        opacity: 0;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      25%,</span><br><span class="line">      75% &#123;</span><br><span class="line">        -webkit-transform: perspective(140px) rotateX(0deg);</span><br><span class="line">        transform: perspective(140px) rotateX(0deg);</span><br><span class="line">        opacity: 1;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      90%,</span><br><span class="line">      100% &#123;</span><br><span class="line">        -webkit-transform: perspective(140px) rotateY(180deg);</span><br><span class="line">        transform: perspective(140px) rotateY(180deg);</span><br><span class="line">        opacity: 0;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="keyword">@keyframes</span> folding &#123;</span></span><br><span class="line">  </span><br><span class="line">      0%,</span><br><span class="line">      10% &#123;</span><br><span class="line">        -moz-transform: perspective(140px) rotateX(-180deg);</span><br><span class="line">        -ms-transform: perspective(140px) rotateX(-180deg);</span><br><span class="line">        -webkit-transform: perspective(140px) rotateX(-180deg);</span><br><span class="line">        transform: perspective(140px) rotateX(-180deg);</span><br><span class="line">        opacity: 0;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      25%,</span><br><span class="line">      75% &#123;</span><br><span class="line">        -moz-transform: perspective(140px) rotateX(0deg);</span><br><span class="line">        -ms-transform: perspective(140px) rotateX(0deg);</span><br><span class="line">        -webkit-transform: perspective(140px) rotateX(0deg);</span><br><span class="line">        transform: perspective(140px) rotateX(0deg);</span><br><span class="line">        opacity: 1;</span><br><span class="line">      &#125;</span><br><span class="line">  </span><br><span class="line">      90%,</span><br><span class="line">      100% &#123;</span><br><span class="line">        -moz-transform: perspective(140px) rotateY(180deg);</span><br><span class="line">        -ms-transform: perspective(140px) rotateY(180deg);</span><br><span class="line">        -webkit-transform: perspective(140px) rotateY(180deg);</span><br><span class="line">        transform: perspective(140px) rotateY(180deg);</span><br><span class="line">        opacity: 0;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-id">#cube-wrapper</span> &#123;</span></span><br><span class="line">      position: fixed;</span><br><span class="line">      left: 50%;</span><br><span class="line">      top: 50%;</span><br><span class="line">      margin-top: -50px;</span><br><span class="line">      margin-left: -50px;</span><br><span class="line">      width: 100px;</span><br><span class="line">      height: 100px;</span><br><span class="line">      text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-id">#cube-wrapper</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">      content: '';</span><br><span class="line">      position: absolute;</span><br><span class="line">      left: 0;</span><br><span class="line">      right: 0;</span><br><span class="line">      bottom: -20px;</span><br><span class="line">      margin: auto;</span><br><span class="line">      width: 90px;</span><br><span class="line">      height: 6px;</span><br><span class="line"><span class="css">      <span class="selector-tag">background-color</span>: <span class="selector-tag">rgba</span>(0, 0, 0, 0<span class="selector-class">.1</span>);</span></span><br><span class="line">      -webkit-filter: blur(2px);</span><br><span class="line">      filter: blur(2px);</span><br><span class="line">      -moz-border-radius: 100%;</span><br><span class="line">      -webkit-border-radius: 100%;</span><br><span class="line">      border-radius: 100%;</span><br><span class="line">      z-index: 1;</span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-animation</span>: <span class="selector-tag">shadow</span> 0<span class="selector-class">.5s</span> <span class="selector-tag">ease</span> <span class="selector-tag">infinite</span> <span class="selector-tag">alternate</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">shadow</span> 0<span class="selector-class">.5s</span> <span class="selector-tag">ease</span> <span class="selector-tag">infinite</span> <span class="selector-tag">alternate</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">animation</span>: <span class="selector-tag">shadow</span> 0<span class="selector-class">.5s</span> <span class="selector-tag">ease</span> <span class="selector-tag">infinite</span> <span class="selector-tag">alternate</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  </span><br><span class="line"><span class="css">    <span class="selector-id">#cube-wrapper</span> <span class="selector-class">.loading</span> &#123;</span></span><br><span class="line">      font-size: 12px;</span><br><span class="line"><span class="css">      <span class="selector-tag">letter-spacing</span>: 0<span class="selector-class">.1em</span>;</span></span><br><span class="line">      display: block;</span><br><span class="line"><span class="css">      <span class="selector-tag">color</span>: <span class="selector-id">#007ee5</span>;</span></span><br><span class="line">      position: relative;</span><br><span class="line">      top: 25px;</span><br><span class="line">      z-index: 2;</span><br><span class="line"><span class="css">      <span class="selector-tag">-moz-animation</span>: <span class="selector-tag">text</span> 0<span class="selector-class">.5s</span> <span class="selector-tag">ease</span> <span class="selector-tag">infinite</span> <span class="selector-tag">alternate</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">-webkit-animation</span>: <span class="selector-tag">text</span> 0<span class="selector-class">.5s</span> <span class="selector-tag">ease</span> <span class="selector-tag">infinite</span> <span class="selector-tag">alternate</span>;</span></span><br><span class="line"><span class="css">      <span class="selector-tag">animation</span>: <span class="selector-tag">text</span> 0<span class="selector-class">.5s</span> <span class="selector-tag">ease</span> <span class="selector-tag">infinite</span> <span class="selector-tag">alternate</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4><span id="loading004">loading004</span></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- loading004 - html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"loading"</span> <span class="attr">style</span>=<span class="string">"display: block;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"loading-center"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"loading-center-absolute"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"object"</span> <span class="attr">id</span>=<span class="string">"object_four"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"object"</span> <span class="attr">id</span>=<span class="string">"object_three"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"object"</span> <span class="attr">id</span>=<span class="string">"object_two"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"object"</span> <span class="attr">id</span>=<span class="string">"object_one"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- loading004 - css --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-id">#loading</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background-color</span>: <span class="selector-tag">rgba</span>(0,0,0,0<span class="selector-class">.8</span>);</span></span><br><span class="line">    height: 100%;</span><br><span class="line">    width: 100%;</span><br><span class="line">    position: fixed;</span><br><span class="line">    z-index: 9999;</span><br><span class="line">    margin-top: 0;</span><br><span class="line">    top: 0;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#loading-center</span> &#123;</span></span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    position: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-id">#loading-center-absolute</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    left: 50%;</span><br><span class="line">    top: 50%;</span><br><span class="line">    height: 200px;</span><br><span class="line">    width: 200px;</span><br><span class="line">    margin-top: -100px;</span><br><span class="line">    margin-left: -100px;</span><br><span class="line">    -ms-transform: rotate(-135deg);</span><br><span class="line">    -webkit-transform: rotate(-135deg);</span><br><span class="line">    transform: rotate(-135deg);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.object</span> &#123;</span></span><br><span class="line">    -moz-border-radius: 50% 50% 50% 50%;</span><br><span class="line">    -webkit-border-radius: 50% 50% 50% 50%;</span><br><span class="line">    border-radius: 50% 50% 50% 50%;</span><br><span class="line">    position: absolute;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-top</span>: 5<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#FFF</span>;</span></span><br><span class="line">    border-bottom: 5px solid transparent;</span><br><span class="line"><span class="css">    <span class="selector-tag">border-left</span>: 5<span class="selector-tag">px</span> <span class="selector-tag">solid</span> <span class="selector-id">#FFF</span>;</span></span><br><span class="line">    border-right: 5px solid transparent;</span><br><span class="line">    -webkit-animation: animate 2s infinite;</span><br><span class="line">    animation: animate 2s infinite;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-id">#object_one</span> &#123;</span></span><br><span class="line">    left: 75px;</span><br><span class="line">    top: 75px;</span><br><span class="line">    width: 50px;</span><br><span class="line">    height: 50px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-id">#object_two</span> &#123;</span></span><br><span class="line">    left: 65px;</span><br><span class="line">    top: 65px;</span><br><span class="line">    width: 70px;</span><br><span class="line">    height: 70px;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation-delay</span>: 0<span class="selector-class">.2s</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation-delay</span>: 0<span class="selector-class">.2s</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-id">#object_three</span> &#123;</span></span><br><span class="line">    left: 55px;</span><br><span class="line">    top: 55px;</span><br><span class="line">    width: 90px;</span><br><span class="line">    height: 90px;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation-delay</span>: 0<span class="selector-class">.4s</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation-delay</span>: 0<span class="selector-class">.4s</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-id">#object_four</span> &#123;</span></span><br><span class="line">    left: 45px;</span><br><span class="line">    top: 45px;</span><br><span class="line">    width: 110px;</span><br><span class="line">    height: 110px;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation-delay</span>: 0<span class="selector-class">.6s</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation-delay</span>: 0<span class="selector-class">.6s</span>;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@-webkit-keyframes</span> animate &#123;</span></span><br><span class="line">    50% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">-ms-transform</span>: <span class="selector-tag">rotate</span>(360<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(0<span class="selector-class">.8</span>);</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span>: <span class="selector-tag">rotate</span>(360<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(0<span class="selector-class">.8</span>);</span></span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span>: <span class="selector-tag">rotate</span>(360<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(0<span class="selector-class">.8</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> animate &#123;</span></span><br><span class="line">    50% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">-ms-transform</span>: <span class="selector-tag">rotate</span>(360<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(0<span class="selector-class">.8</span>);</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span>: <span class="selector-tag">rotate</span>(360<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(0<span class="selector-class">.8</span>);</span></span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span>: <span class="selector-tag">rotate</span>(360<span class="selector-tag">deg</span>) <span class="selector-tag">scale</span>(0<span class="selector-class">.8</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h4><span id="角落提示">角落提示</span></h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 角落图标 - 鼠标经过提示 --&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"suspension"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"livechat-girl animated"</span> <span class="attr">style</span>=<span class="string">"right: -35px; bottom: 75px;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">"girl"</span> <span class="attr">src</span>=<span class="string">"a.png"</span> <span class="attr">oncontextmenu</span>=<span class="string">"return false;"</span> <span class="attr">ondragstart</span>=<span class="string">"return false;"</span> <span class="attr">style</span>=<span class="string">"border-radius: 0;"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"livechat-hint rd-notice-tooltip rd-notice-type-success rd-notice-position-left single-line  show_hint"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"rd-notice-content"</span>&gt;</span>累计提供了 21318 次上传服务<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"animated-circles animated"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"circle c-1"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"circle c-2"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"circle c-3"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">  <span class="selector-class">.livechat-girl</span><span class="selector-class">.animated</span> &#123;</span></span><br><span class="line">    opacity: 1;</span><br><span class="line">    transform: translateY(-40px);</span><br><span class="line">    -webkit-transform: translateY(-40px);</span><br><span class="line">    -ms-transform: translateY(-40px);</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.animated</span> &#123;</span></span><br><span class="line">    -webkit-animation-duration: 1s;</span><br><span class="line">    animation-duration: 1s;</span><br><span class="line">    -webkit-animation-fill-mode: both;</span><br><span class="line">    animation-fill-mode: both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> &#123;</span></span><br><span class="line">    width: 60px;</span><br><span class="line">    height: 60px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    position: fixed;</span><br><span class="line">    bottom: 75px;</span><br><span class="line">    right: -35px;</span><br><span class="line">    opacity: 0;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-box-shadow</span>: 0 5<span class="selector-tag">px</span> 10<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(35,50,56,<span class="selector-class">.3</span>);</span></span><br><span class="line"><span class="css">    <span class="selector-tag">box-shadow</span>: 0 5<span class="selector-tag">px</span> 10<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(35,50,56,<span class="selector-class">.3</span>);</span></span><br><span class="line">    z-index: 700;</span><br><span class="line">    transform: translateY(0);</span><br><span class="line">    -webkit-transform: translateY(0);</span><br><span class="line">    -ms-transform: translateY(0);</span><br><span class="line">    cursor: pointer;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-transition</span>: <span class="selector-tag">all</span> 1<span class="selector-tag">s</span> <span class="selector-tag">cubic-bezier</span>(<span class="selector-class">.86</span>, 0, <span class="selector-class">.07</span>, 1);</span></span><br><span class="line"><span class="css">    <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> 1<span class="selector-tag">s</span> <span class="selector-tag">cubic-bezier</span>(<span class="selector-class">.86</span>, 0, <span class="selector-class">.07</span>, 1);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.animated</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation-duration</span>: <span class="selector-class">.5s</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation-duration</span>: <span class="selector-class">.5s</span>;</span></span><br><span class="line">    -webkit-animation-fill-mode: both;</span><br><span class="line">    animation-fill-mode: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> scaleToggleOne &#123;</span></span><br><span class="line">    0% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    50% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(2)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(2)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> scaleToggleTwo &#123;</span></span><br><span class="line">    0% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    20% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    60% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(2)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(2)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    100% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="keyword">@keyframes</span> scaleToggleThree &#123;</span></span><br><span class="line">    0% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    33% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    66% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(2)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(2)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">    100% &#123;</span><br><span class="line"><span class="css">        <span class="selector-tag">transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line"><span class="css">        <span class="selector-tag">-webkit-transform</span><span class="selector-pseudo">:scale(1)</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.animated</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-animation-duration</span>: <span class="selector-class">.5s</span>;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">animation-duration</span>: <span class="selector-class">.5s</span>;</span></span><br><span class="line">    -webkit-animation-fill-mode: both;</span><br><span class="line">    animation-fill-mode: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> &#123;</span></span><br><span class="line">    width: 60px;</span><br><span class="line">    height: 60px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    position: fixed;</span><br><span class="line">    bottom: 75px;</span><br><span class="line">    right: -35px;</span><br><span class="line">    opacity: 0;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-box-shadow</span>: 0 5<span class="selector-tag">px</span> 10<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(35,50,56,<span class="selector-class">.3</span>);</span></span><br><span class="line"><span class="css">    <span class="selector-tag">box-shadow</span>: 0 5<span class="selector-tag">px</span> 10<span class="selector-tag">px</span> 0 <span class="selector-tag">rgba</span>(35,50,56,<span class="selector-class">.3</span>);</span></span><br><span class="line">    z-index: 700;</span><br><span class="line">    transform: translateY(0);</span><br><span class="line">    -webkit-transform: translateY(0);</span><br><span class="line">    -ms-transform: translateY(0);</span><br><span class="line">    cursor: pointer;</span><br><span class="line"><span class="css">    <span class="selector-tag">-webkit-transition</span>: <span class="selector-tag">all</span> 1<span class="selector-tag">s</span> <span class="selector-tag">cubic-bezier</span>(<span class="selector-class">.86</span>, 0, <span class="selector-class">.07</span>, 1);</span></span><br><span class="line"><span class="css">    <span class="selector-tag">transition</span>: <span class="selector-tag">all</span> 1<span class="selector-tag">s</span> <span class="selector-tag">cubic-bezier</span>(<span class="selector-class">.86</span>, 0, <span class="selector-class">.07</span>, 1);</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span><span class="selector-pseudo">:focus</span> &#123;</span></span><br><span class="line">    outline: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span><span class="selector-class">.animated</span> &#123;</span></span><br><span class="line">    opacity: 1;</span><br><span class="line">    transform: translateY(-40px);</span><br><span class="line">    -webkit-transform: translateY(-40px);</span><br><span class="line">    -ms-transform: translateY(-40px);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    content: '';</span><br><span class="line">    width: 12px;</span><br><span class="line">    height: 12px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-image</span>: <span class="selector-tag">linear-gradient</span>(<span class="selector-tag">to</span> <span class="selector-tag">bottom</span>, <span class="selector-id">#26c7fc</span>, <span class="selector-id">#26c7fc</span>);</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 1px;</span><br><span class="line">    top: 1px;</span><br><span class="line">    z-index: 50;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.red-dot</span><span class="selector-pseudo">:after</span> &#123;</span></span><br><span class="line">    content: '';</span><br><span class="line">    width: 12px;</span><br><span class="line">    height: 12px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line"><span class="css">    <span class="selector-tag">background-image</span>: <span class="selector-tag">linear-gradient</span>(<span class="selector-tag">to</span> <span class="selector-tag">bottom</span>, <span class="selector-id">#FF5722</span>, <span class="selector-id">#FF5722</span>);</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    right: 1px;</span><br><span class="line">    top: 1px;</span><br><span class="line">    z-index: 50;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.girl</span> &#123;</span></span><br><span class="line">    position: absolute;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: auto;</span><br><span class="line">    z-index: 50;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.animated-circles</span> <span class="selector-class">.circle</span> &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-tag">background</span>: <span class="selector-tag">rgba</span>(38,199,252,<span class="selector-class">.25</span>);</span></span><br><span class="line">    width: 60px;</span><br><span class="line">    height: 60px;</span><br><span class="line">    border-radius: 50%;</span><br><span class="line">    position: absolute;</span><br><span class="line">    z-index: 49;</span><br><span class="line">    transform: scale(1);</span><br><span class="line">    -webkit-transform: scale(1);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.animated-circles</span><span class="selector-class">.animated</span> <span class="selector-class">.c-1</span> &#123; <span class="attribute">animation</span>: <span class="number">2s</span> scaleToggleOne <span class="built_in">cubic-bezier</span>(.<span class="number">25</span>, .<span class="number">46</span>, .<span class="number">45</span>, .<span class="number">94</span>) forwards &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.animated-circles</span><span class="selector-class">.animated</span> <span class="selector-class">.c-2</span> &#123; <span class="attribute">animation</span>: <span class="number">2.5s</span> scaleToggleTwo <span class="built_in">cubic-bezier</span>(.<span class="number">25</span>, .<span class="number">46</span>, .<span class="number">45</span>, .<span class="number">94</span>) forwards &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.animated-circles</span><span class="selector-class">.animated</span> <span class="selector-class">.c-3</span> &#123; <span class="attribute">animation</span>: <span class="number">3s</span> scaleToggleThree <span class="built_in">cubic-bezier</span>(.<span class="number">25</span>, .<span class="number">46</span>, .<span class="number">45</span>, .<span class="number">94</span>) forwards &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span><span class="selector-class">.animation-stopped</span> <span class="selector-class">.circle</span> &#123; <span class="attribute">opacity</span>: <span class="number">0</span><span class="meta">!important</span> &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span><span class="selector-class">.animation-stopped</span> <span class="selector-class">.circle</span> &#123; <span class="attribute">opacity</span>: <span class="number">0</span><span class="meta">!important</span> &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span> &#123; <span class="attribute">position</span>: absolute; <span class="attribute">right</span>: <span class="number">40px</span>; <span class="attribute">top</span>: <span class="number">50%</span>; <span class="attribute">margin-top</span>: -<span class="number">20px</span>; <span class="attribute">opacity</span>: <span class="number">0</span>; <span class="attribute">z-index</span>: <span class="number">0</span>; <span class="attribute">-webkit-transition</span>: all .<span class="number">3s</span> <span class="built_in">cubic-bezier</span>(.<span class="number">86</span>, <span class="number">0</span>, .<span class="number">07</span>, <span class="number">1</span>); <span class="attribute">transition</span>: all .<span class="number">3s</span> <span class="built_in">cubic-bezier</span>(.<span class="number">86</span>, <span class="number">0</span>, .<span class="number">07</span>, <span class="number">1</span>) &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span><span class="selector-class">.show_hint</span> &#123; <span class="attribute">-webkit-transform</span>: <span class="built_in">translateX</span>(-<span class="number">40px</span>); <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">40px</span>); <span class="attribute">opacity</span>:<span class="number">1</span>; &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span><span class="selector-class">.hide_hint</span> &#123; <span class="attribute">opacity</span>:<span class="number">0</span>;<span class="attribute">-webkit-transform</span>: <span class="built_in">translateX</span>(<span class="number">0</span>); <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">0</span>) &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span><span class="selector-class">.rd-notice-tooltip</span> &#123; <span class="attribute">max-width</span>: <span class="number">1296px</span><span class="meta">!important</span> &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span><span class="selector-class">.rd-notice-tooltip</span> <span class="selector-class">.rd-notice-content</span> &#123; <span class="attribute">width</span>: auto; <span class="attribute">overflow</span>: hidden; <span class="attribute">text-overflow</span>: ellipsis &#125;</span></span><br><span class="line"><span class="css"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span><span class="number">1599px</span>) &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span><span class="selector-class">.rd-notice-tooltip</span> &#123; <span class="attribute">max-width</span>: <span class="number">1060px</span><span class="meta">!important</span> &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span><span class="number">1309px</span>) &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span><span class="selector-class">.rd-notice-tooltip</span> &#123; <span class="attribute">max-width</span>: <span class="number">984px</span><span class="meta">!important</span> &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">max-width:</span><span class="number">1124px</span>) &#123;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.livechat-girl</span> <span class="selector-class">.livechat-hint</span><span class="selector-class">.rd-notice-tooltip</span> &#123; <span class="attribute">max-width</span>: <span class="number">600px</span><span class="meta">!important</span> &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="css"><span class="selector-class">.rd-notice-tooltip</span> &#123; <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">2</span>); <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">2</span>); <span class="attribute">font-size</span>: <span class="number">14px</span>; <span class="attribute">border-radius</span>: <span class="number">3px</span>; <span class="attribute">line-height</span>: <span class="number">1.25</span>; <span class="attribute">position</span>: absolute; <span class="attribute">z-index</span>: <span class="number">65</span>; <span class="attribute">max-width</span>: <span class="number">350px</span>; <span class="attribute">opacity</span>: <span class="number">1</span> &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.rd-notice-tooltip</span><span class="selector-pseudo">:after</span> &#123; <span class="attribute">position</span>: absolute; <span class="attribute">display</span>: block; <span class="attribute">content</span>: <span class="string">''</span>; <span class="attribute">height</span>: <span class="number">20px</span>; <span class="attribute">width</span>: <span class="number">20px</span>; <span class="attribute">-webkit-box-shadow</span>: none; <span class="attribute">box-shadow</span>: none; <span class="attribute">-webkit-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>); <span class="attribute">-moz-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>); <span class="attribute">-ms-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>); <span class="attribute">-o-transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>); <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>); <span class="attribute">-webkit-border-radius</span>: <span class="number">3px</span>; <span class="attribute">-moz-border-radius</span>: <span class="number">3px</span>; <span class="attribute">border-radius</span>: <span class="number">3px</span>; <span class="attribute">z-index</span>: <span class="number">50</span> &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.rd-notice-tooltip</span> <span class="selector-class">.rd-notice-content</span> &#123; <span class="attribute">background</span>: <span class="number">0</span>; <span class="attribute">border-radius</span>: <span class="number">3px</span>; <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">color</span>: <span class="number">#fff</span>; <span class="attribute">position</span>: relative; <span class="attribute">z-index</span>: <span class="number">60</span>; <span class="attribute">padding</span>: <span class="number">20px</span>; <span class="attribute">font-weight</span>: <span class="number">400</span>; <span class="attribute">line-height</span>: <span class="number">1.45</span> &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.rd-notice-type-success</span> &#123; <span class="attribute">background-color</span>: <span class="number">#26c7fc</span>; <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">38</span>,<span class="number">199</span>,<span class="number">252</span>,.<span class="number">2</span>); <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">38</span>,<span class="number">199</span>,<span class="number">252</span>,.<span class="number">2</span>) &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.rd-notice-type-success</span> <span class="selector-class">.rd-notice-content</span> &#123; <span class="attribute">background-color</span>: <span class="number">#26c7fc</span> &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.rd-notice-type-success</span><span class="selector-pseudo">:after</span> &#123; <span class="attribute">background-color</span>: <span class="number">#26c7fc</span>; <span class="attribute">-webkit-box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">38</span>,<span class="number">199</span>,<span class="number">252</span>,.<span class="number">2</span>); <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">5px</span> <span class="number">10px</span> <span class="number">0</span> <span class="built_in">rgba</span>(<span class="number">38</span>,<span class="number">199</span>,<span class="number">252</span>,.<span class="number">2</span>) &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.rd-notice-position-left</span> &#123; <span class="attribute">margin-left</span>: -<span class="number">20px</span> &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.rd-notice-position-left</span><span class="selector-pseudo">:after</span> &#123; <span class="attribute">right</span>: -<span class="number">6px</span>; <span class="attribute">top</span>: <span class="number">50%</span>; <span class="attribute">margin-top</span>: -<span class="number">10px</span> &#125;</span></span><br><span class="line"><span class="css"><span class="selector-class">.rd-notice-tooltip</span><span class="selector-class">.single-line</span> <span class="selector-class">.rd-notice-content</span> &#123; <span class="attribute">height</span>: <span class="number">40px</span>; <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">20px</span>; <span class="attribute">line-height</span>: <span class="number">40px</span>; <span class="attribute">white-space</span>: nowrap &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">  $(<span class="string">".livechat-girl"</span>).hover(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">console</span>.log(<span class="string">'2222'</span>)</span></span><br><span class="line"><span class="javascript">    $(<span class="string">".livechat-hint"</span>).removeClass(<span class="string">'hide_hite'</span>).addClass(<span class="string">'show_hint'</span>)</span></span><br><span class="line"><span class="actionscript">  &#125;,<span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</span></span><br><span class="line"><span class="javascript">    $(<span class="string">".livechat-hint"</span>).removeClass(<span class="string">'show_hint'</span>).addClass(<span class="string">'hide_hite'</span>)</span></span><br><span class="line">  &#125;);</span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3><span id="loading5">loading5</span></h3><p><a href="https://yy.mosq.cn/" target="_blank" rel="noopener">https://yy.mosq.cn/</a></p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- Loading --&gt;</span><br><span class="line">  &lt;<span class="selector-tag">div</span> id=<span class="string">"loading"</span> class=<span class="string">"loading-layer"</span> style=<span class="string">""</span>&gt;</span><br><span class="line">    &lt;<span class="selector-tag">div</span> class=<span class="string">"adjust-block"</span>&gt;</span><br><span class="line">        &lt;<span class="selector-tag">div</span> class=<span class="string">"load "</span>&gt;</span><br><span class="line">            &lt;<span class="selector-tag">span</span> class=<span class="string">"sharingan"</span>&gt;&lt;/span&gt;</span><br><span class="line">            &lt;<span class="selector-tag">span</span> class=<span class="string">"sharingan"</span>&gt;&lt;/span&gt;</span><br><span class="line">            &lt;<span class="selector-tag">span</span> class=<span class="string">"sharingan"</span>&gt;&lt;/span&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- Loading css --&gt;</span><br><span class="line"><span class="selector-class">.loading-layer</span> &#123;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#162532</span>;</span><br><span class="line">  <span class="attribute">position</span>: fixed;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">500</span>;</span><br><span class="line">  <span class="comment">/* display: none; */</span></span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.load</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">animation-fill-mode</span>: both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.adjust-block</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  -moz-<span class="attribute">transform</span>: translateY(-<span class="number">50%</span>);</span><br><span class="line">  -ms-<span class="attribute">transform</span>: translateY(-<span class="number">50%</span>);</span><br><span class="line">  -webkit-<span class="attribute">transform</span>: translateY(-<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">transform</span>: translateY(-<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.sharingan</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">12px</span>;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#20ddfd</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#20ddfd</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  -moz-<span class="attribute">animation-delay</span>: <span class="number">0</span>;</span><br><span class="line">  -webkit-<span class="attribute">animation-delay</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">animation-delay</span>: <span class="number">0</span>;</span><br><span class="line">  -moz-<span class="attribute">animation-duration</span>: <span class="number">2s</span>;</span><br><span class="line">  -webkit-<span class="attribute">animation-duration</span>: <span class="number">2s</span>;</span><br><span class="line">  <span class="attribute">animation-duration</span>: <span class="number">2s</span>;</span><br><span class="line">  -moz-<span class="attribute">animation-timing-function</span>: ease-in-out;</span><br><span class="line">  -webkit-<span class="attribute">animation-timing-function</span>: ease-in-out;</span><br><span class="line">  <span class="attribute">animation-timing-function</span>: ease-in-out;</span><br><span class="line">  -moz-<span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">  -webkit-<span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">  <span class="attribute">animation-iteration-count</span>: infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sharingan</span>:nth-of-type(<span class="number">1</span>) &#123;</span><br><span class="line">  -moz-<span class="attribute">animation-name</span>: ball-triangle-path-<span class="number">1</span>;</span><br><span class="line">  -webkit-<span class="attribute">animation-name</span>: ball-triangle-path-<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">animation-name</span>: ball-triangle-path-<span class="number">1</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sharingan</span>:nth-of-type(<span class="number">2</span>) &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">25px</span>;</span><br><span class="line">  -moz-<span class="attribute">animation-name</span>: ball-triangle-path-<span class="number">2</span>;</span><br><span class="line">  -webkit-<span class="attribute">animation-name</span>: ball-triangle-path-<span class="number">2</span>;</span><br><span class="line">  <span class="attribute">animation-name</span>: ball-triangle-path-<span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sharingan</span>:nth-of-type(<span class="number">3</span>) &#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50px</span>;</span><br><span class="line">  -moz-<span class="attribute">animation-name</span>: ball-triangle-path-<span class="number">3</span>;</span><br><span class="line">  -webkit-<span class="attribute">animation-name</span>: ball-triangle-path-<span class="number">3</span>;</span><br><span class="line">  <span class="attribute">animation-name</span>: ball-triangle-path-<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@keyframes ball-triangle-path-<span class="number">1</span> &#123;</span><br><span class="line">  <span class="number">33%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translate(<span class="number">25px</span>, -<span class="number">50px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">66%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translate(<span class="number">50px</span>, <span class="number">0px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translate(<span class="number">0px</span>, <span class="number">0px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes ball-triangle-path-<span class="number">2</span> &#123;</span><br><span class="line">  <span class="number">33%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translate(<span class="number">25px</span>, <span class="number">50px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">66%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translate(-<span class="number">25px</span>, <span class="number">50px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translate(<span class="number">0px</span>, <span class="number">0px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">@keyframes ball-triangle-path-<span class="number">3</span> &#123;</span><br><span class="line">  <span class="number">33%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translate(-<span class="number">50px</span>, <span class="number">0px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">66%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translate(-<span class="number">25px</span>, -<span class="number">50px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: translate(<span class="number">0px</span>, <span class="number">0px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3><span id="londing-bar">londing bar</span></h3><p><a href="https://yy.mosq.cn/" target="_blank" rel="noopener">https://yy.mosq.cn/</a></p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;!--loading</span> <span class="string">animate--&gt;</span></span><br><span class="line"><span class="string">&lt;div</span> <span class="string">id="loading"</span> <span class="string">class="butterbar</span> <span class="string">active"&gt;</span></span><br><span class="line">  <span class="string">&lt;span</span> <span class="string">class="bar"&gt;&lt;/span&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&lt;!--</span> <span class="string">CSS</span> <span class="string">--&gt;</span></span><br><span class="line"><span class="comment">#loading &#123;</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">100</span><span class="string">%;</span></span><br><span class="line">    <span class="attr">z-index:</span> <span class="number">1</span><span class="string">;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="string">.butterbar</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">relative;</span></span><br><span class="line">    <span class="attr">height:</span> <span class="string">3px;</span></span><br><span class="line">    <span class="attr">margin-bottom:</span> <span class="string">-3px</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="string">.butterbar</span> <span class="string">.bar</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">absolute;</span></span><br><span class="line">    <span class="attr">width:</span> <span class="number">100</span><span class="string">%;</span></span><br><span class="line">    <span class="attr">height:</span> <span class="number">0</span><span class="string">;</span></span><br><span class="line">    <span class="attr">text-indent:</span> <span class="string">-9999px;</span></span><br><span class="line">    <span class="attr">background-color:</span> <span class="comment">#23b7e5</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="string">.butterbar</span> <span class="string">.bar:before</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="attr">position:</span> <span class="string">absolute;</span></span><br><span class="line">    <span class="attr">right:</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">    <span class="attr">left:</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">    <span class="attr">height:</span> <span class="string">3px;</span></span><br><span class="line">    <span class="attr">background-color:</span> <span class="string">inherit;</span></span><br><span class="line">    <span class="attr">content:</span> <span class="string">""</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="string">.butterbar.active</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">-webkit-animation:</span> <span class="string">changebar</span> <span class="number">2.</span><span class="string">25s</span> <span class="string">infinite</span> <span class="string">.75s;</span></span><br><span class="line">    <span class="string">-moz-animation:</span> <span class="string">changebar</span> <span class="number">2.</span><span class="string">25s</span> <span class="string">infinite</span> <span class="string">.75s;</span></span><br><span class="line">    <span class="attr">animation:</span> <span class="string">changebar</span> <span class="number">2.</span><span class="string">25s</span> <span class="string">infinite</span> <span class="string">.75s;</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="string">.butterbar.active</span> <span class="string">.bar</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">-webkit-animation:</span> <span class="string">changebar</span> <span class="number">2.</span><span class="string">25s</span> <span class="string">infinite;</span></span><br><span class="line">    <span class="string">-moz-animation:</span> <span class="string">changebar</span> <span class="number">2.</span><span class="string">25s</span> <span class="string">infinite;</span></span><br><span class="line">    <span class="attr">animation:</span> <span class="string">changebar</span> <span class="number">2.</span><span class="string">25s</span> <span class="string">infinite</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="string">.butterbar.active</span> <span class="string">.bar:before</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="string">-webkit-animation:</span> <span class="string">movingbar</span> <span class="string">.75s</span> <span class="string">infinite;</span></span><br><span class="line">    <span class="string">-moz-animation:</span> <span class="string">movingbar</span> <span class="string">.75s</span> <span class="string">infinite;</span></span><br><span class="line">    <span class="attr">animation:</span> <span class="string">movingbar</span> <span class="string">.75s</span> <span class="string">infinite</span></span><br><span class="line">  <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">  <span class="string">@-webkit-keyframes</span> <span class="string">movingbar</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">right:</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">        <span class="attr">left:</span> <span class="number">50</span><span class="string">%</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">99.9</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">right:</span> <span class="number">0</span><span class="string">;</span></span><br><span class="line">        <span class="attr">left:</span> <span class="number">0</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">100</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">right:</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">        <span class="attr">left:</span> <span class="number">50</span><span class="string">%</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">@-moz-keyframes</span> <span class="string">movingbar</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">right:</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">        <span class="attr">left:</span> <span class="number">50</span><span class="string">%</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">99.9</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">right:</span> <span class="number">0</span><span class="string">;</span></span><br><span class="line">        <span class="attr">left:</span> <span class="number">0</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">100</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">right:</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">        <span class="attr">left:</span> <span class="number">50</span><span class="string">%</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">@keyframes</span> <span class="string">movingbar</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">right:</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">        <span class="attr">left:</span> <span class="number">50</span><span class="string">%</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">99.9</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">right:</span> <span class="number">0</span><span class="string">;</span></span><br><span class="line">        <span class="attr">left:</span> <span class="number">0</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">100</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">right:</span> <span class="number">50</span><span class="string">%;</span></span><br><span class="line">        <span class="attr">left:</span> <span class="number">50</span><span class="string">%</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">@-webkit-keyframes</span> <span class="string">changebar</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#23b7e5</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">33.3</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#23b7e5</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">33.33</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#fad733</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">66.6</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#fad733</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">66.66</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#7266ba</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">99.9</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#7266ba</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">@-moz-keyframes</span> <span class="string">changebar</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#23b7e5</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">33.3</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#23b7e5</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">33.33</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#fad733</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">66.6</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#fad733</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">66.66</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#7266ba</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">99.9</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#7266ba</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="string">@keyframes</span> <span class="string">changebar</span> <span class="string">&#123;</span></span><br><span class="line">    <span class="number">0</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#23b7e5</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">33.3</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#23b7e5</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">33.33</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#fad733</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">66.6</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#fad733</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">66.66</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#7266ba</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="number">99.9</span><span class="string">%</span> <span class="string">&#123;</span></span><br><span class="line">        <span class="attr">background-color:</span> <span class="comment">#7266ba</span></span><br><span class="line">    <span class="string">&#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;基于CSS绘制的Loading，使用CSS的动画效果。&lt;/p&gt;
&lt;h4&gt;&lt;span id=&quot;loading001&quot;&gt;loading001&lt;/span&gt;&lt;/h4&gt;
&lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutt
      
    
    </summary>
    
    
      <category term="CSS" scheme="https://cl9000.github.io/categories/CSS/"/>
    
    
      <category term="CSS" scheme="https://cl9000.github.io/tags/CSS/"/>
    
      <category term="Loading" scheme="https://cl9000.github.io/tags/Loading/"/>
    
  </entry>
  
  <entry>
    <title>BD-text2audio</title>
    <link href="https://cl9000.github.io/2017/03/24/BD-text2audio/"/>
    <id>https://cl9000.github.io/2017/03/24/BD-text2audio/</id>
    <published>2017-03-24T13:18:54.000Z</published>
    <updated>2020-03-08T15:30:22.727Z</updated>
    
    <content type="html"><![CDATA[<p>一个免费的百度文字转语音接口。</p><ol><li>接口链接</li></ol><p><a href="http://tts.baidu.com/text2audio?lan=zh&amp;ie=UTF-8&amp;spd=2&amp;text=%E5%BE%85%E8%BD%AC%E6%8D%A2%E7%9A%84%E6%96%87%E5%AD%97" target="_blank" rel="noopener">http://tts.baidu.com/text2audio?lan=zh&amp;ie=UTF-8&amp;spd=2&amp;text=待转换的文字</a></p><blockquote><p>参数：<br>lan=zh：语言是中文，如果改为lan=en，则语言是英文。<br>ie=UTF-8：文字格式。<br>spd=2：语速，可以是1-9的数字，数字越大，语速越快。<br>text=**：这个就是你要转换的文字。</p></blockquote><ol start="2"><li>使用方法</li></ol><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">textarea</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">id</span>=<span class="string">'val'</span> <span class="attr">placeholder</span>=<span class="string">'请输入文字'</span>&gt;</span><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"提交"</span> <span class="attr">onclick</span>=<span class="string">"clickEvent()"</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">  <span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;  </span></span><br><span class="line">  &#125;</span><br><span class="line"><span class="actionscript">  <span class="function"><span class="keyword">function</span> <span class="title">clickEvent</span><span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">      <span class="keyword">var</span> zhText = <span class="built_in">document</span>.getElementById(<span class="string">"val"</span>).value;;</span></span><br><span class="line"><span class="javascript">      zhText = <span class="built_in">encodeURI</span>(zhText);</span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.write(<span class="string">"&lt;audio autoplay=\"autoplay\"&gt;"</span>);</span></span><br><span class="line"><span class="handlebars"><span class="xml">      document.write("<span class="tag">&lt;<span class="name">source</span> <span class="attr">src</span>=<span class="string">\</span>"<span class="attr">http:</span>//<span class="attr">tts.baidu.com</span>/<span class="attr">text2audio</span>?<span class="attr">lan</span>=<span class="string">zh&amp;ie</span>=<span class="string">UTF-8&amp;spd</span>=<span class="string">2&amp;text</span>=<span class="string">" + zhText + "</span>\" <span class="attr">type</span>=<span class="string">\</span>"<span class="attr">audio</span>/<span class="attr">mpeg</span>\"&gt;</span>");</span></span></span><br><span class="line"><span class="handlebars"><span class="xml">      document.write("<span class="tag">&lt;<span class="name">embed</span> <span class="attr">height</span>=<span class="string">\</span>"<span class="attr">0</span>\" <span class="attr">width</span>=<span class="string">\</span>"<span class="attr">0</span>\" <span class="attr">src</span>=<span class="string">\</span>"<span class="attr">http:</span>//<span class="attr">tts.baidu.com</span>/<span class="attr">text2audio</span>?<span class="attr">lan</span>=<span class="string">zh&amp;ie</span>=<span class="string">UTF-8&amp;spd</span>=<span class="string">2&amp;text</span>=<span class="string">" + zhText + "</span>\"&gt;</span>");</span></span></span><br><span class="line"><span class="javascript">      <span class="built_in">document</span>.write(<span class="string">"&lt;/audio&gt;"</span>);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;一个免费的百度文字转语音接口。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;接口链接&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;a href=&quot;http://tts.baidu.com/text2audio?lan=zh&amp;amp;ie=UTF-8&amp;amp;spd=2&amp;amp;text=%E5%BE%85
      
    
    </summary>
    
    
    
      <category term="文字转语音" scheme="https://cl9000.github.io/tags/%E6%96%87%E5%AD%97%E8%BD%AC%E8%AF%AD%E9%9F%B3/"/>
    
  </entry>
  
  <entry>
    <title>XcodeBuildSetting中大小写设置</title>
    <link href="https://cl9000.github.io/2017/03/22/Xcode%E4%B8%ADBuildSetting%E5%A4%A7%E5%B0%8F%E5%86%99%E8%AE%BE%E7%BD%AE/"/>
    <id>https://cl9000.github.io/2017/03/22/Xcode%E4%B8%ADBuildSetting%E5%A4%A7%E5%B0%8F%E5%86%99%E8%AE%BE%E7%BD%AE/</id>
    <published>2017-03-22T15:03:09.000Z</published>
    <updated>2020-03-08T15:12:35.642Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="关于xcode中buildsetting各属性名大小写切换-记录以备忘">关于Xcode中BuildSetting各属性名大小写切换-记录以备忘</span></h3><a id="more"></a><p>首先打开Xcode，进入工程BuildSetting选项<br>各属性名大小写：<br>Xcode–Editor–Show Setting Names<br>各属性值大小写：<br>Xcode–Editor–Show Definitions<br>如图:<br><img src="http://ol3jdapgi.bkt.clouddn.com/17-3-22/49571838-file_1490197315454_169e7.png" alt></p><p><img src="http://ol3jdapgi.bkt.clouddn.com/17-3-22/56620836-file_1490197315282_16817.png" alt></p>]]></content>
    
    <summary type="html">
    
      &lt;h3&gt;关于Xcode中BuildSetting各属性名大小写切换-记录以备忘&lt;/h3&gt;
    
    </summary>
    
    
      <category term="Xcode" scheme="https://cl9000.github.io/categories/Xcode/"/>
    
    
      <category term="Xcode" scheme="https://cl9000.github.io/tags/Xcode/"/>
    
  </entry>
  
  <entry>
    <title>[Ionic] - ionic热更新</title>
    <link href="https://cl9000.github.io/2017/02/22/cordova%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    <id>https://cl9000.github.io/2017/02/22/cordova%E7%83%AD%E6%9B%B4%E6%96%B0/</id>
    <published>2017-02-22T05:14:01.000Z</published>
    <updated>2020-03-06T15:01:29.341Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="简介">简介</span></h3><p>关于Cordova的热更新问题，国内的资料比较少，许多博客上都是胡乱的抄袭，准确性极低，无任何实用性，并且步骤不够完整，在此亲手测试了一下，并整理详细的步骤以供备忘和参考。</p><h4><span id="热更新的好处">热更新的好处</span></h4><p>通常ionic源码可包括（HTML，JavaScript，CSS文件和其他资源），<br>通过cordova热更新插件cordova-hot-code-push-plugin来是实现客户端的代码<strong>热更新</strong>。<br>避免了之前<strong>更改代码</strong>后<strong>重新打版</strong>再提交至<strong>应用商店审核</strong>的流程，实现后台动态更新代码<br>热更新原理图（扒来的。。。图不孬，有助理解）<br><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-23/23692450-file_1487824130397_4399.png" alt></p><a id="more"></a><h3><span id="内壳更新">内壳更新</span></h3><h4><span id="基本的配置步骤">基本的配置步骤</span></h4><ul><li><p><strong>Python简单服务器本地搭建</strong><br>首先，我们自己搭建个本地的服务器Python，测试用。在此只做开发版的热更新测试，（本地的不做，容易混，也没什么用）<br>Python服务器安装包<a href="https://pan.baidu.com/s/1boDMaF9" target="_blank" rel="noopener"><em>云盘下载眼</em></a></p><p>下载好后，我们用命令行操作：<br><code>$ cd desktop</code></p><p>在桌面创建文件夹，<br><code>$ mkdir pythonServe</code><br><code>$ cd pythonServer</code><br>进入到所创建的的文件夹，执行：<strong>*</strong> 注意遵循大小写&lt;9999 为端口号可自定义&gt;<br><code>$ python -m SimpleHTTPServer 9999</code></p><p>效果如下即为搭建成功：<br><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-22/85060264-file_1487754857902_e047.png" alt><br>用终端查看下自己的ip, 执行命令<code>$ ifconfig</code>即可获取，此 <strong>ip+端口号</strong> 就是你服务器地址，<strong>如果切换网络，要更新下面的服务器地址，切记哦！</strong><br>服务器到此搭建完毕告一段落…</p></li><li><p><strong>ionic项目文件 配置：</strong></p><p>首先，创建工程：#创建de略过…<br><code>$ cordova create bankapp com.example.bankapp bankapp</code><br>或   <code>$ ionic start bankapp tabs -a &quot;bankapp&quot; -i com.example.bankapp</code></p><p><strong>关键de配置</strong><br>1、<strong>安装 cordova-hot-code-push-cli,执行命令</strong>：<br>$ npm install -g cordova-hot-code-push-cli<br>作用：使用该命令行生成检测配置文件，通常是在 <code>www</code> 目录下动态生成 <code>chcp.json</code> 和 <code>chcp.manifest</code> 生成两个文件，插件源码地址：<a href="https://github.com/nordnet/cordova-hot-code-push" target="_blank" rel="noopener">https://github.com/nordnet/cordova-hot-code-push</a></p><p>2、<strong>进入项目目录</strong><br><code>$ cd 你的项目路径</code>。比如 我的项目在桌面上：<code>$ cd desktop/bankapp</code></p><p>3、 <strong>安装热更新插件，执行命令(cordova或ionic都可以)</strong>：<br><code>$ cordova plugin add cordova-hot-code-push-plugin</code></p><p>***注意：**网上有安装下插件，没什么用，这是个实时更新插件，用于本地的同步更新，此处我们用不到:<code>$ ionic plugin add cordova-hot-code-push-local-dev-addon</code></p><p>4、<strong>创建cordova-hcp.json模板</strong><br>在cordova项目根目录下创建一个 cordova-hcp.json模板文件。<br>cordova-hcp.json内容如下：</p>  <figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"autogenerated"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"bankapp"</span>,</span><br><span class="line">  <span class="attr">"min_native_interface"</span>: <span class="number">1</span>, <span class="comment">//最小支持的外壳app版本</span></span><br><span class="line">  <span class="attr">"content_url"</span>: <span class="string">"http://192.168.1.101:9999/www"</span>,</span><br><span class="line">  <span class="attr">"ios_identifier"</span>:<span class="string">"https://itues.apple.com/cn/***"</span>, <span class="comment">//打版提交App Store下载的地址</span></span><br><span class="line">  <span class="attr">"update"</span>: <span class="string">"now"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>&amp;注意</strong> ：content_url：是你服务器上要更新的文件地址，</p><p>执行： <code>$ cordova-hcp build</code><br>就会利用这个模板自动在<code>www</code>文件夹下生成新的 chcp.json和chcp.manifest文件，而不用手动更改 www/chcp.json了。<br>解析下：</p><ul><li>min_native_interface: 记录当前App的外壳版本值</li><li>chcp.manifest文件记录版本的hash值</li><li>ios_identifier:记录App在苹果商店上的位置，就是外壳地址</li><li>release：内壳时间戳版本，根据时间戳来更新的。</li><li>content_url: 是你服务器内更新的文件地址。此处建议设为www文件夹，因为我们改动代码后要把www文件进行更新，可以直接将改动后的www文件夹把服务器上旧的的www替换掉。</li></ul></li></ul><p>5、 <strong>配置config.xml文件</strong><br>在config.xml文件中添加以下代码:<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">chcp</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">native-interface</span> <span class="attr">version</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">config-file</span> <span class="attr">url</span>=<span class="string">"http://192.168.1.101:9999/www/chcp.json"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">chcp</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p><strong>&amp;注意：url为你服务器中更新文件的地址/ chcp.json</strong><br>**&amp;注意：**内壳更新 要把cordova-hcp.json和config.xml中的 版本号设置为一样的</p><p>6、<strong>完成以上准备，开始测试 热更新(html、css或js等资源的动态更新，即内壳更新）</strong><br>执行下面：</p><ul><li><code>$ cordova platform add ios</code> 生成平台</li><li><code>$ cordova-hcp build</code> 生成新chcp.json和chcp.manifest文件（重新打个时间戳realease）</li><li><code>$ cordova build ios/android</code> 编译包到各个平台</li><li>将www文件夹拷贝到服务器中</li><li>在Xcode 中运行工程应用</li><li>在webStore中（开发工具自选）更改一些www文件夹中的内容（如html、css、js或其它的资源）</li></ul><blockquote><p>在此，随便改下就可以<img src="http://ol3jdapgi.bkt.clouddn.com/17-2-23/78903485-file_1487820563941_fc2d.png" alt><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-23/49367720-file_1487820670266_1cbe.png" alt></p></blockquote><ul><li><code>$ cordova-hcp build</code></li><li>再次将更改后的www的文件拷贝到服务器中，把原来旧的www文件替换即可</li><li>**&amp;**在浏览器中测试下自己的服务器通否：</li></ul><blockquote><p>这是我的我的临时搭建Python地址 ：<code>http://192.168.1.101:9999</code></p></blockquote><ul><li>在Xcode中再次运行应用，查看内容是否进行了更新</li></ul><blockquote><p><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-23/6717957-file_1487820904958_166e4.png" alt><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-23/71100471-file_1487820851920_183f9.png" alt><br>热更新完成后日志如下:<br><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-23/54124854-file_1487826952862_ee03.png" alt></p></blockquote><p>到此内壳更新就结束了，在这总结下可能会遇到的问题:<br>一、chcp.json和config.xml中的服务器的地址不要写错,chcp.json中的地址：服务器上更新文件的地址；config.xml中的地址：服务器上更新文件的地址+chcp.json<br>二、首次要先在服务器上打个初始版本，流程如下：</p><blockquote><p>即生成平台–&gt;<code>模板生成chcp文件</code>–&gt;编译到各个平台–&gt;<code>上传www到服务器</code>–&gt;运行应用—&gt;<code>修改内容</code>–&gt; 模板重新生成chcp文件–&gt;<code>上传www文件覆盖旧的</code>—&gt;运行应用—&gt;<code>查看更新</code></p></blockquote><p>三、服务器保证通的通的、、、<br>四、再不中看这 <a href="https://github.com/nordnet/cordova-hot-code-push/issues/223" target="_blank" rel="noopener">-坑眼-https://github.com/nordnet/cordova-hot-code-push/issues/223</a></p><hr><h3><span id="外壳更新">外壳更新</span></h3><h4><span id="描述">描述</span></h4><p>这个外壳更新有点强制化，比如你在使用应用时，突然弹出个pop,提示你有新的版本更新了，人性化点的还有个取消按钮；强制性的就确定后直接跳转到AppStore了。这在你自己怎么设置了。<br>像原生的版本更新就没有强制；如你打版提交审核上架了，客户端也就仅在appStore商店有个更新提醒，更不更在客户了。</p><h4><span id="外壳更新配置">外壳更新配置</span></h4><p>上面的内壳更新整好后，这就比较简单了，因该配的已配置好，只在这改改某些属性就可以</p><h5><span id="通过min_native_interface监控app是否提示更新">通过min_native_interface监控app是否提示更新</span></h5><p>所需最小的外壳app版本. 这是app的build版本号，是个整型数字, 不是应用商店中看到的形如”1.0.0”字符串。</p><p>在 config.xml中，这样指定build版本号，例如：app外壳里的config.xml是这样的：</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">chcp</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">native-interface</span> <span class="attr">version</span>=<span class="string">"1"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">config-file</span> <span class="attr">url</span>=<span class="string">"http://192.168.191.2:9999/www/chcp.json"</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">chcp</span>&gt;</span></span><br></pre></td></tr></table></figure><p>与www目录下的cordova-hcp.json/chcp.json里面的min_native_interface数值相对应，</p><blockquote><p>若服务器里的min_native_interface也对应是1，就不会出现提示用户升级版本的状态（即外壳更新），正常修改www目录的内容通过更新release值，和客户端进行对比，可实现热更新（即内壳更新）。</p></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"autogenerated"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"bankapp"</span>,</span><br><span class="line">  <span class="attr">"min_native_interface"</span>: <span class="number">1</span>, <span class="comment">//最小内核版本号</span></span><br><span class="line">  <span class="attr">"content_url"</span>: <span class="string">"http://192.168.191.2:9999/www"</span>,</span><br><span class="line">  <span class="attr">"ios_identifier"</span>: <span class="string">"https://itues.apple.com/cn/***"</span>, <span class="comment">//打版提交App Store下载的地址</span></span><br><span class="line">  <span class="attr">"update"</span>: <span class="string">"now"</span>,</span><br><span class="line">  <span class="attr">"release"</span>: <span class="string">"2017.02.23-12.53.32"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>假设你的外壳app加了个新的插件或文件，应该会更新外壳app。为了防止用户通过热更新下载了不适合他现有外壳app的web内容，应该设置下 min_native_interface 的值<br>下面我们将 min_native_interface 的值改为 2</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"autogenerated"</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">"name"</span>: <span class="string">"bankapp"</span>,</span><br><span class="line">  <span class="attr">"min_native_interface"</span>: <span class="number">2</span>, <span class="comment">//最小支持的外壳app版本</span></span><br><span class="line">  <span class="attr">"content_url"</span>: <span class="string">"http://192.168.191.2:9999/www"</span>,</span><br><span class="line">  <span class="attr">"ios_identifier"</span>: <span class="string">"https://itues.apple.com/cn/***"</span>, <span class="comment">//打版提交App Store下载的地址</span></span><br><span class="line">  <span class="attr">"update"</span>: <span class="string">"now"</span>,</span><br><span class="line">  <span class="attr">"release"</span>: <span class="string">"2017.02.23-12.53.32"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>热更新插件加载到这段json的时候, 发现 min_native_interface 比当前外壳app的build号要大，便不会下载web内容。而是触发一个chcp_updateLoadFailed 错误通知, 告诉用户需要升级外壳app版本了。</p><p>此属性将与config.xml中的native-interface进行对比，如果发现两者不同时，将会触发相应的事件，比如，手机端app中config.xml的<code>native-interface</code>值比服务器上的chcp.json文件中的<code>min_native_interface</code>值小时，将会触发<code>’chcp_updateLoadFailed’</code>事件，同时，错误代码为：<br><code>chcp.error.APPLICATION_BUILD_VERSION_TOO_LOW</code> 通过这个错误码调用js端监听相应事件通过弹窗提示用户去升级，跳转到AppStore或下载新安装包。</p><blockquote><h4><span id="具体步骤">具体步骤</span></h4><p>1、导入插件。外壳（版本号）的更新需要导入另外3个插件<br><a href="https://github.com/apache/cordova-plugin-file" target="_blank" rel="noopener">cordova-plugin-file</a>、<a href="https://github.com/apache/cordova-plugin-file-transfer" target="_blank" rel="noopener">cordova-plugin-file-transfer</a>、<a href="https://github.com/pwlin/cordova-plugin-file-opener2" target="_blank" rel="noopener">cordova-plugin-file-opener2</a></p></blockquote><blockquote><p>导入命令：<figure class="highlight stata"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; $ cordova <span class="keyword">plugin</span> add cordova-<span class="keyword">plugin</span>-<span class="keyword">file</span></span><br><span class="line">&gt; $ cordova <span class="keyword">plugin</span> add cordova-<span class="keyword">plugin</span>-<span class="keyword">file</span>-transfer</span><br><span class="line">&gt; $ cordova <span class="keyword">plugin</span> add cordova-<span class="keyword">plugin</span>-<span class="keyword">file</span>-opener2</span><br></pre></td></tr></table></figure></p></blockquote><blockquote><p>2、添加代码-弹框-跳转至商店更新 <strong>&amp; ios_identifier为要跳转的地址</strong><br>将下面的代码放到 .run function中启动时就调用（看自己怎么封装的，我封到router中了）如图:<br><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-23/27198743-file_1487830770384_8925.png" alt></p></blockquote><p><code>min_native-interface</code>将与config.xml中的<code>native-interface</code>进行对比、如果两者不同、将会触发<code>'chcp_updateLoadFailed'</code>事件。同时、错误代码为：<br><code>chcp.error.APPLICATION_BUILD_VERSION_TOO_LOW</code>，返回值为-2，那么就会执行下面的代码，弹框提示更新了。</p><blockquote> <figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> appUpdate = &#123;</span><br><span class="line">        <span class="comment">// Application Constructor</span></span><br><span class="line">        initialize: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.bindEvents();</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// Bind any events that are required.</span></span><br><span class="line">        <span class="comment">// Usually you should subscribe on 'deviceready' event to know, when you can start calling cordova modules</span></span><br><span class="line">        bindEvents: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">document</span>.addEventListener(<span class="string">'deviceready'</span>, <span class="keyword">this</span>.onDeviceReady, <span class="literal">false</span>);</span><br><span class="line">            <span class="built_in">document</span>.addEventListener(<span class="string">'chcp_updateLoadFailed'</span>, <span class="keyword">this</span>.onUpdateLoadError, <span class="literal">false</span>);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="comment">// deviceready Event Handler</span></span><br><span class="line">        onDeviceReady: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        &#125;,</span><br><span class="line">        onUpdateLoadError: <span class="function"><span class="keyword">function</span>(<span class="params">eventData</span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> error = eventData.detail.error;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 当检测出外核版本有更新，// 针对不同平台进行相应更新操作</span></span><br><span class="line">            <span class="keyword">if</span> (error &amp;&amp; error.code == chcp.error.APPLICATION_BUILD_VERSION_TOO_LOW) &#123;</span><br><span class="line">                <span class="keyword">var</span> dialogMessage = <span class="string">'有新的版本,请下载更新'</span>;</span><br><span class="line">                </span><br><span class="line">                <span class="comment">// iOS端 直接弹窗提示升级，点击ok后自动跳转</span></span><br><span class="line">                <span class="keyword">if</span>(ionic.Platform.isIOS())&#123;</span><br><span class="line">                    chcp.requestApplicationUpdate(dialogMessage, <span class="keyword">this</span>.userWentToStoreCallback, <span class="keyword">this</span>.userDeclinedRedirectCallback);</span><br><span class="line">                <span class="comment">//Android端 提示升级下载最新APK文件 </span></span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span>(ionic.Platform.isAndroid())&#123;</span><br><span class="line">                    <span class="comment">//这儿放Android端更新代码...，在下面👇</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        userWentToStoreCallback: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// user went to the store from the dialog</span></span><br><span class="line">        &#125;,</span><br><span class="line">        userDeclinedRedirectCallback: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="comment">// User didn't want to leave the app.</span></span><br><span class="line">            <span class="comment">// Maybe he will update later.</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    appUpdate.initialize();</span><br></pre></td></tr></table></figure></blockquote><p><strong>Android端添加代码👆 提示升级下载最新APK文件</strong></p><blockquote></blockquote><figure class="highlight arcade"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> confirmPopup = <span class="symbol">$io</span>nicPopup.confirm(&#123;</span><br><span class="line">  template: <span class="string">'有新的版本,请下载更新'</span>,</span><br><span class="line">  cssClass: <span class="string">'popup'</span>,</span><br><span class="line">  cancelText:<span class="string">'取消'</span>,</span><br><span class="line">  okText:<span class="string">'升级'</span></span><br><span class="line">&#125;);</span><br><span class="line">confirmPopup.then(<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (res) &#123;</span><br><span class="line">    <span class="symbol">$io</span>nicLoading.show(&#123;</span><br><span class="line">      template: <span class="string">"已经下载：0%"</span></span><br><span class="line">    &#125;);</span><br><span class="line">    window.resolveLocalFileSystemURL(cordova.file.externalRootDirectory, <span class="function"><span class="keyword">function</span>(<span class="params">fileEntry</span>) </span>&#123;</span><br><span class="line">      fileEntry.getDirectory(<span class="string">"***(app名称)"</span>, &#123; <span class="attr">create</span>: <span class="literal">true</span>, <span class="attr">exclusive</span>: <span class="literal">false</span> &#125;, <span class="function"><span class="keyword">function</span> (<span class="params">fileEntry</span>) </span>&#123;</span><br><span class="line">        <span class="comment">//下载代码</span></span><br><span class="line">        <span class="keyword">var</span> fileTransfer = <span class="keyword">new</span> FileTransfer();</span><br><span class="line">        fileTransfer.download(<span class="string">"app下载地址"</span>, fileEntry.toInternalURL()+<span class="string">"***(app名称).apk"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">entry</span>) </span>&#123;</span><br><span class="line">          <span class="comment">// 打开下载下来的APP</span></span><br><span class="line">          cordova.plugins.fileOpener2.open(</span><br><span class="line">            entry.toInternalURL(),<span class="comment">//下载文件保存地址</span></span><br><span class="line">            <span class="string">'application/vnd.android.package-archive'</span>, &#123;<span class="comment">//以APK文件方式打开</span></span><br><span class="line">              error: <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">              &#125;,</span><br><span class="line">              success: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;, <span class="function"><span class="keyword">function</span>(<span class="params">err</span>) </span>&#123;</span><br><span class="line">        &#125;,<span class="literal">true</span>);</span><br><span class="line">        fileTransfer.onprogress = <span class="function"><span class="keyword">function</span>(<span class="params">progressEvent</span>) </span>&#123;</span><br><span class="line">          <span class="symbol">$timeout</span>(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="keyword">var</span> downloadProgress = (progressEvent.loaded / progressEvent.total) * <span class="number">100</span>;</span><br><span class="line">            <span class="symbol">$io</span>nicLoading.show(&#123;</span><br><span class="line">              template: <span class="string">"已经下载："</span> + Math.floor(downloadProgress) + <span class="string">"%"</span></span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="keyword">if</span> (downloadProgress &gt; <span class="number">99</span>) &#123;</span><br><span class="line">              <span class="symbol">$io</span>nicLoading.hide();</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;alert(<span class="string">"创建失败"</span>)&#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>3、代码添加后，执行：<br><code>$ cordova-hcp build</code><br>4、将www文件上传到服务器覆盖旧的，使用Xcode运行应用</p><blockquote><p><strong>注意</strong>&amp;出现问题****<br>1、没有弹框提示–第一次要清理下缓存/或把应用从模拟器卸掉，从新运行<br>2、网络若不好，反应会很慢，等会才会弹出。。。</p></blockquote><p>结果如图：<img src="http://ol3jdapgi.bkt.clouddn.com/17-2-23/84229099-file_1487836202356_da.png" alt></p><h5><span id="chcpjson中update字段含义">chcp.json中update字段含义</span></h5><p>指定了什么时候安装web内容更新，支持的值有：</p><blockquote><p>start  - app启动时安装更新，默认值<br>resume - app从后台切换过来的时候安装更新<br>now    - web内容下载完毕即安装更新</p></blockquote><p>好了，先总结这么多，可能会有些细节落下，望大家参考时，给我提下，我在继续补充。</p>]]></content>
    
    <summary type="html">
    
      &lt;h3&gt;简介&lt;/h3&gt;
&lt;p&gt;关于Cordova的热更新问题，国内的资料比较少，许多博客上都是胡乱的抄袭，准确性极低，无任何实用性，并且步骤不够完整，在此亲手测试了一下，并整理详细的步骤以供备忘和参考。&lt;/p&gt;
&lt;h4&gt;热更新的好处&lt;/h4&gt;
&lt;p&gt;通常ionic源码可包括（HTML，JavaScript，CSS文件和其他资源），&lt;br&gt;
通过cordova热更新插件cordova-hot-code-push-plugin来是实现客户端的代码&lt;strong&gt;热更新&lt;/strong&gt;。&lt;br&gt;
避免了之前&lt;strong&gt;更改代码&lt;/strong&gt;后&lt;strong&gt;重新打版&lt;/strong&gt;再提交至&lt;strong&gt;应用商店审核&lt;/strong&gt;的流程，实现后台动态更新代码&lt;br&gt;
热更新原理图（扒来的。。。图不孬，有助理解）&lt;br&gt;
&lt;img src=&quot;http://ol3jdapgi.bkt.clouddn.com/17-2-23/23692450-file_1487824130397_4399.png&quot; alt&gt;&lt;/p&gt;
    
    </summary>
    
    
    
      <category term="Ionic" scheme="https://cl9000.github.io/tags/Ionic/"/>
    
      <category term="热更新" scheme="https://cl9000.github.io/tags/%E7%83%AD%E6%9B%B4%E6%96%B0/"/>
    
      <category term="hotUpdate" scheme="https://cl9000.github.io/tags/hotUpdate/"/>
    
  </entry>
  
  <entry>
    <title>HEXO 添加访问量统计</title>
    <link href="https://cl9000.github.io/2017/02/16/HEXO-%E6%B7%BB%E5%8A%A0%E8%AE%BF%E9%97%AE%E9%87%8F%E7%BB%9F%E8%AE%A1/"/>
    <id>https://cl9000.github.io/2017/02/16/HEXO-%E6%B7%BB%E5%8A%A0%E8%AE%BF%E9%97%AE%E9%87%8F%E7%BB%9F%E8%AE%A1/</id>
    <published>2017-02-16T01:39:54.000Z</published>
    <updated>2020-04-16T01:52:56.663Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="hexo-添加访问量统计">HEXO 添加访问量统计</span></h2><p>整理一下为hexo博客添加页脚访客人数和总访问量的两种方法，使用的是 <a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">不蒜子</a> 来进行统计的。</p><h2><span id="基本介绍">基本介绍</span></h2><p><a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">不蒜子</a> 是一款记录访客和访问量的插件，接下来就介绍使用 <a href="http://busuanzi.ibruce.info/" target="_blank" rel="noopener">不蒜子</a> 计数的方法。</p><h2><span id="脚本方法使用不蒜子计数">脚本方法使用不蒜子计数</span></h2><h3><span id="1-_configyml-添加开关">1. <code>_config.yml</code> 添加开关</span></h3><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 是否开启访问量统计功能(不蒜子)</span></span><br><span class="line"><span class="attr">busuanzi:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3><span id="2引入">2.引入</span></h3><p>根据布局需求，将下面代码引入文件，例如： layout的footer.ejs<br>要使用不蒜子必须在页面中引入busuanzi.js，代码如下：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 不蒜子 start --&gt;</span><br><span class="line">&lt;% <span class="keyword">if</span> (config.busuanzi &amp;&amp; config.busuanzi.enable)&#123; %&gt;</span><br><span class="line">    &lt;!-- 不蒜子统计 --&gt;</span><br><span class="line">    &lt;p <span class="class"><span class="keyword">class</span></span>=<span class="string">"copyright text-muted"</span> style=<span class="string">"margin-top: 5px;"</span>&gt;</span><br><span class="line">        &lt;span id=<span class="string">"busuanzi_container_site_pv"</span>&gt;</span><br><span class="line">            本站总访问量</span><br><span class="line">            &lt;span id=<span class="string">"busuanzi_value_site_pv"</span>&gt;&lt;<span class="regexp">/span&gt;次</span></span><br><span class="line"><span class="regexp">        &lt;/</span>span&gt;</span><br><span class="line">        &lt;span <span class="class"><span class="keyword">class</span></span>=<span class="string">"post-meta-divider"</span>&gt;|&lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;span id="busuanzi_container_site_uv" style='display:none'&gt;</span></span><br><span class="line"><span class="regexp">            本站访客数</span></span><br><span class="line"><span class="regexp">            &lt;span id="busuanzi_value_site_uv"&gt;&lt;/</span>span&gt;人</span><br><span class="line">        &lt;<span class="regexp">/span&gt;</span></span><br><span class="line"><span class="regexp">        &lt;script async src="/</span><span class="regexp">/busuanzi.ibruce.info/</span>busuanzi/<span class="number">2.3</span>/busuanzi.pure.mini.js<span class="string">"&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">    &lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;% &#125; %&gt;</span></span><br><span class="line"><span class="string">&lt;!-- 不蒜子 end --&gt;</span></span><br></pre></td></tr></table></figure><p>这样便可以在底部显示访问量了，并且可以通过更改主题配置中的参数来选择是否显示访问量，只要引入busuanzi.js之后，即使不显示访问量也会统计。</p><h2><span id="注意事项">注意事项</span></h2><ul><li>可能会出现无法显示的问题</li><li>使用hexo s部署在本地预览效果的时候，uv数和pv数会过大，这是由于不蒜子用户使用一个存储空间，所以使用 <a href="localhost:4000" target="_blank" rel="noopener">localhost:4000</a> 进行本地预览的时候会导致数字异常，这是正常现象，只需要将博客部署至云端即可恢复正常。</li><li>网站运行一段时间后想要初始化访问次数，官方回答是可以注册登录自行修改阅读次数，但目前登录官网依旧显示无法注册</li></ul><h3><span id="参考">参考</span></h3><p><a href="https://chrischen0405.github.io/2018/09/11/post20180911/" target="_blank" rel="noopener">https://chrischen0405.github.io/2018/09/11/post20180911/</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;hexo-添加访问量统计&quot;&gt;HEXO 添加访问量统计&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;整理一下为hexo博客添加页脚访客人数和总访问量的两种方法，使用的是 &lt;a href=&quot;http://busuanzi.ibruce.info/&quot; target=&quot;_b
      
    
    </summary>
    
    
      <category term="HEXO" scheme="https://cl9000.github.io/categories/HEXO/"/>
    
      <category term="统计" scheme="https://cl9000.github.io/categories/HEXO/%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="访问量" scheme="https://cl9000.github.io/categories/HEXO/%E7%BB%9F%E8%AE%A1/%E8%AE%BF%E9%97%AE%E9%87%8F/"/>
    
    
      <category term="HEXO" scheme="https://cl9000.github.io/tags/HEXO/"/>
    
      <category term="统计" scheme="https://cl9000.github.io/tags/%E7%BB%9F%E8%AE%A1/"/>
    
      <category term="访问量" scheme="https://cl9000.github.io/tags/%E8%AE%BF%E9%97%AE%E9%87%8F/"/>
    
  </entry>
  
  <entry>
    <title>HEXO 引用本地资源</title>
    <link href="https://cl9000.github.io/2017/02/15/HEXO%E5%BC%95%E7%94%A8%E6%9C%AC%E5%9C%B0%E8%B5%84%E6%BA%90/"/>
    <id>https://cl9000.github.io/2017/02/15/HEXO%E5%BC%95%E7%94%A8%E6%9C%AC%E5%9C%B0%E8%B5%84%E6%BA%90/</id>
    <published>2017-02-15T08:20:16.000Z</published>
    <updated>2020-04-20T03:10:26.786Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="hexo-引用本地资源图片">HEXO 引用本地资源（图片）</span></h2><p><img src="/2017/02/15/HEXO引用本地资源/NationalDay70_1920x1080.jpg" alt="本地图片"></p><h3><span id="设置-_configyml">设置 _config.yml</span></h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_asset_folder:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>设置完成后使用 <code>$ hexo new post &quot;名称&quot;</code> 新建文章时会在 <code>source/_posts</code> 目录下生成与文章同名的文件夹，将文章引用的图片放入文件夹即可。<br><img src alt></p><h3><span id="安装插件">安装插件</span></h3><p><strong><a href="https://github.com/xcodebuild/hexo-asset-image" target="_blank" rel="noopener">hexo-asset-image 插件</a></strong></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span><span class="bash"> npm install https://github.com/CodeFalling/hexo-asset-image --save</span></span><br></pre></td></tr></table></figure><h3><span id="使用">使用</span></h3><figure class="highlight md"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">本地图片</span>](<span class="link">/NationalDay70_1920x1080.jpg</span>) </span><br><span class="line">或</span><br><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/NationalDay70_1920x1080.jpg.jpg"</span> <span class="attr">width</span> = <span class="string">"300"</span> <span class="attr">height</span> = <span class="string">"200"</span> <span class="attr">alt</span>=<span class="string">"图片名称"</span> <span class="attr">align</span>=<span class="string">center</span> /&gt;</span></span></span><br></pre></td></tr></table></figure><p><img src="/2017/02/15/HEXO引用本地资源/NationalDay70_1920x1080.jpg" alt="本地图片"><br><img src="/2017/02/15/HEXO引用本地资源/NationalDay70_1920x1080.jpg.jpg" width="300" height="200" alt="图片名称" align="center"></p><p>生成后的代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/2017/02/15/HEXO引用本地资源/NationalDay70_1920x1080.jpg"</span> <span class="attr">alt</span>=<span class="string">"本地图片"</span>&gt;</span></span><br></pre></td></tr></table></figure><h2><span id="参考">参考</span></h2><p><a href="https://hexo.io/zh-cn/docs/asset-folders.html" target="_blank" rel="noopener">HEXO 官网 - https://hexo.io/zh-cn/docs/asset-folders.html</a></p><br><blockquote style="border-left: 4px solid #3F51B5;padding: 16px 20px;font-size: 14px;border-radius: 0 2px 2px 0;">    <p>本文地址：    <a href="/2017/02/15/HEXO引用本地资源/" target="_blank" rel="external">/2017/02/15/HEXO引用本地资源/</a></p></blockquote><br>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2&gt;&lt;span id=&quot;hexo-引用本地资源图片&quot;&gt;HEXO 引用本地资源（图片）&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;&lt;img src=&quot;/2017/02/15/HEXO引用本地资源/NationalDay70_1920x1080.jpg&quot; alt=&quot;本地图片&quot;&gt;&lt;/p&gt;
&lt;h
      
    
    </summary>
    
    
    
      <category term="HEXO" scheme="https://cl9000.github.io/tags/HEXO/"/>
    
  </entry>
  
  <entry>
    <title>HEXO搭建个人博客</title>
    <link href="https://cl9000.github.io/2017/02/10/HEXO%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
    <id>https://cl9000.github.io/2017/02/10/HEXO%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</id>
    <published>2017-02-10T09:32:59.000Z</published>
    <updated>2020-03-08T14:34:55.508Z</updated>
    
    <content type="html"><![CDATA[<p>最近在无意中在网上看见个很不错的网页博客，少见，在网上一查是GitHub Page + HEXO搭建的个人博客。作为一个攻城狮，见到如此，必须自己也搞出来试试。查找一些网上的资料和填坑，不就一个个人的技术博客必须诞生啦。大家或许搭建的时候仅花个几分钟，但在优化上可能就会占用你一天甚至两天的时间，优化好后就快了。只管写MD了.</p><h4><span id="why-do-myself-blog">Why do myself Blog？</span></h4><ol><li>写技术博对自己技术经验的总结。</li><li>可以提升自己的表述能力，<strong>光会做 ？不会说</strong>怎么可以，那你只有被别人利用的价值了。</li><li>对自己以后的升值夹心肯定的，例如面试的时候可以抛出来你的链接，瞅瞅这，哈哈。</li><li>。。。无量好处。。。</li></ol><h4><span id="个人博客-mark-搭建开始">个人博客 - Mark - 搭建开始</span></h4><a id="more"></a><hr><p>wo选择的是GitHubPage + Hexo，一种简单高效的构建方式。<br>当然还有其他的实现方式，如：WorkPress、GitHubPage + Jekell等等。</p><p><strong>配置必要环境</strong></p><blockquote><ol><li>安装Node.js<br>用到nodejs的包管理器<strong>npm</strong></li><li>git（Xcode自带）<br>或借助三方软件，如SourceTree，SVN</li><li>GitHub<br>用来做博客的远程仓库、调整域名、源码的服务器的，怎么与本地hexo建立连接下面讲。SSH Keys，可以不配，不配的话以后每次对自己的博客有改动部署的时候就要手动输入账号密码，配置了就不需要了，怎么配置网上有很多教程</li></ol></blockquote><h4><span id="安装hexo">安装HEXO</span></h4><ol><li><p>打开终端中输入：<br><code>$ sudo npm install -g hexo</code></p></li><li><p>安装完成, 执行Hexo 命令，** 初始化本地博客仓库** 两种创建方式。如下</p><ul><li>创建一个文件夹，如：myblog，cd到myblog里执行命令：<br><code>$ hexo init</code></li><li>cd 到 desktop（or 你想去的地方~） 也可以直接<br><code>$ hexo init mybolg</code></li></ul></li><li><p>生成静态网页<br><code>$ hexo genrate 或 hexo g</code></p></li><li><p>本地预览 - 在终端中 cd 到你的本地博客仓库（就是myblog文件夹，我怕我看不懂，hahaha~）执行：<br><code>$ hexo s</code></p></li></ol><p>上述步骤完成。 博客的基本框架就基本构建完成，简单吧! hahaha~, 坑不在这。。。<br>Hexo 默认的博客主题是landscape主题，后面介绍怎么更换主题及链接Github。下面来试下本地的博客预览效果</p><p>终端命令图<br><img src alt></p><p>执行完 hexo server ,在浏览器上输入网址：<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a> 或 <a href="http://0.0.0.0:4000/" target="_blank" rel="noopener">http://0.0.0.0:4000/</a> ，就能预览到landscape主题下的博客效果，具体如图：<br><img src alt></p><p>在这简单描述下初始化后的目录结构:</p><ul><li>_config.yml ——是博客主要配置文件</li><li>db.json——是博客数据库</li><li>node_modules——是NodeJS依赖模块</li><li>public ——静态网页存放的地方,执行一次hexo clean，此文件夹会被清除， hexo g 会再次生成</li><li>source——是博客内容以及其他页面（page）存在的目录，这个目录里面有个_post目录就是我们存放博客内容的地方，也就是存放博客内容markdown文档地方，输入hexo new “newPage”就会在这个目录建立一个名为newPage的子目录，然后在里面放入md文档，并在主题的配置文件里面添加相应栏目* newPage，这样就会显示在主页面的目录上。（将在后续有所mark）</li><li>themes——是主题存放文件</li></ul><h5><span id="常见的hexo配置错误">常见的HEXO配置错误:</span></h5><figure class="highlight subunit"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ERROR </span>Plugin load failed: hexo-server</span><br><span class="line"></span><br><span class="line">原因： Besides, utilities are separated into a standalone module.</span><br><span class="line"> hexo.util is not reachable anymore.</span><br><span class="line"></span><br><span class="line">解决方法，执行命令：$ sudo npm install hexo-server</span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">执行命令hexo server，提示：Usage: hexo<span class="xml"><span class="tag">&lt;<span class="name">Command</span>&gt;</span></span> ....</span><br><span class="line"></span><br><span class="line">原因：我认为是没有生成本地服务</span><br><span class="line"></span><br><span class="line">解决方法，执行命令：$ npm install hexo-server --save</span><br><span class="line"></span><br><span class="line">提示：hexo-server@0.1.2 node_modules/hexo-server</span><br><span class="line">.... </span><br><span class="line"></span><br><span class="line">表示成功了[<span class="string">参考</span>](<span class="link">https://hexo.io/zh-cn/docs/server.html</span>)</span><br></pre></td></tr></table></figure><p>这个时候再执行：<code>$ hexo-server</code></p><p>得到: INFO Hexo is running at <a href="http://0.0.0.0:4000/" target="_blank" rel="noopener">http://0.0.0.0:4000/</a>. Press Ctrl+C to stop.<br>这个时候再点击http://0.0.0.0:4000/， 正常情况下应该是最原始的画面，如果出现是： 白板和Cannot GET /<br>原因： 由于2.6以后就更新了，我们需要手动配置些东西，我们需要依次下面三行命令：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ npm <span class="keyword">install</span> hexo-renderer-ejs <span class="comment">--save</span></span><br><span class="line">$ npm <span class="keyword">install</span> hexo-renderer-stylus <span class="comment">--save</span></span><br><span class="line">$ npm <span class="keyword">install</span> hexo-renderer-marked <span class="comment">--save</span></span><br></pre></td></tr></table></figure><p>这个时候再重新生成静态文件，命令：<br><code>$ hexo generate （或hexo g）</code></p><p>启动本地服务器：<br><code>$ hexo server （或hexo s）</code></p><p>再点击网址http://0.0.0.0:4000 OK终于可以看到属于你自己的blog啦！！！<a href="https://cl9000.github.io">参考链接</a>，至此，本地的blog设置已经完成，但是现在域名和服务器都是基于自己本地的电脑，接下来需要跟Github page进行关联，</p><hr><h4><span id="配置github-page">配置Github page</span></h4><p>登录或者注册<br>有Github账号的直接 + 库，没有的注册个再 + 呗<br><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-13/23625034-file_1486967552108_14482.png" alt><br>填写仓库名称：注意 Respository name 中一定要输入：<a href="http://xn--6qqv7i14ofosyrb.github.io" target="_blank" rel="noopener">你的用户名.github.io</a>,然后点击”Create repository“ 按钮完成创建即可。<br><a href="http://xn--ihq19l1ynd0dusx.github.io" target="_blank" rel="noopener">不是用户名.github.io</a>,最终的后果是显示404页面。故，在这略微留意一下。具体如下图所示：<br><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-13/61984582-file_1486967649606_5006.png" alt></p><h6><span id="以上要注意">以上要注意</span></h6><p>创建好库，下面打开本地建好的本地博客仓库myBlog，目录如下：</p><blockquote><p>myBlog<br>　｜<br>　｜－－ _config.yml<br>　｜－－ node_modules<br>　｜－－ public<br>　｜－－ source<br>　｜－－ db.json<br>　｜－－ package.json<br>　｜－－ scaffolds<br>　｜－－ themes</p></blockquote><p>现在我们需要_config.yml文件，来建立与GitHub关联，命令：<br><code>$ vim _config.yml</code><br>翻到最下面，改成我这样子的，注意：** <code>: 后面要有空格</code>**</p><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repository</span>: <span class="attribute">https</span>:<span class="comment">//github.com/cl9000/cl9000.github.io.git</span></span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure><p>改完后 <strong><code>esc + :wq</code></strong> 保存退出或者用<strong>文本编辑器</strong>更改</p><p>执行如下命令才能使用git部署：</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-deployer-git <span class="comment">--save</span></span><br></pre></td></tr></table></figure><p>网上会有很多说法，有的type是github, 还有repository 最后面的后缀也不一样，是github.com.git，我也踩了很多坑，我现在的版本是hexo: 3.2.2，执行命令hexo -vsersion就出来了,貌似3.0后全部改成我上面这种格式了。 忘了说了，我没用SSH Keys如果你用了SSH Keys的话直接在github里复制SSH的就行了，总共就两种协议，相信你懂的。<br>然后，执行部署命令：<br><code>$ hexo deploy</code><br>　然后再浏览器中输入http://cl9000.github.io/    就行了，我的 github 的账户叫 cl9000 ,把这个改成你 github 的账户名就行了，就可以访问了</p><h6><span id="部署步骤">部署步骤：</span></h6><p>每次部署的步骤，可按以下三步来进行。</p><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ hexo clean        清理缓存干掉public</span><br><span class="line">$ hexo <span class="keyword">generate</span>     重新生成静态文件</span><br><span class="line">$ hexo deploy       部署到Github</span><br></pre></td></tr></table></figure><h6><span id="一些常用-hexo-命令">一些常用 hexo 命令：</span></h6><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"postName"</span> #新建文章</span><br><span class="line">$ hexo new<span class="built_in"> page </span><span class="string">"pageName"</span> #新建页面</span><br><span class="line">$ hexo generate #生成静态页面至public目录</span><br><span class="line">$ hexo<span class="built_in"> server </span>#开启预览访问端口（默认端口4000，<span class="string">'ctrl + c'</span>关闭server）</span><br><span class="line">$ hexo deploy #将.deploy目录部署到GitHub</span><br><span class="line">$ hexo help  #查看帮助</span><br><span class="line">$ hexo version  #查看Hexo的版本</span><br></pre></td></tr></table></figure><p>这是Github上的，<a href="https://github.com/hexojs/hexo/wiki/Themes" target="_blank" rel="noopener">主题列表</a>github上都有详细介绍，自己研究吧</p><h5><span id="一些基本修改路径">一些基本修改路径</span></h5><ul><li>文章在 source/_posts，编辑器可以用 Sublime、Mweb，支持 markdown 语法。</li><li>如果想修改头像可以直接在主题的 _config.yml 文件里面修改，友情链接、分享、评论等的都在这。</li><li>修改站名在 public/index.html 里修改。</li></ul><p>CNAME每次clean消失问题：<br><code>解决：</code>将需要上传至github的内容放在source文件夹，例如CNAME、README、favicon.ico、images等，再次hexo clean、hexo g、public文件中就会有啦。。</p><h4><span id="关于next主题的设置">关于NEXT主题的设置</span></h4><p><a href="http://theme-next.iissnan.com" target="_blank" rel="noopener">参考官网–&gt;</a>文档很详细的</p><p>好了，开始打理你的博客吧，有什么问题或者建议，都可以提出来，我会继续更新的。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;最近在无意中在网上看见个很不错的网页博客，少见，在网上一查是GitHub Page + HEXO搭建的个人博客。作为一个攻城狮，见到如此，必须自己也搞出来试试。查找一些网上的资料和填坑，不就一个个人的技术博客必须诞生啦。大家或许搭建的时候仅花个几分钟，但在优化上可能就会占用你一天甚至两天的时间，优化好后就快了。只管写MD了.&lt;/p&gt;
&lt;h4&gt;Why do myself Blog？&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;写技术博对自己技术经验的总结。&lt;/li&gt;
&lt;li&gt;可以提升自己的表述能力，&lt;strong&gt;光会做 ？不会说&lt;/strong&gt;怎么可以，那你只有被别人利用的价值了。&lt;/li&gt;
&lt;li&gt;对自己以后的升值夹心肯定的，例如面试的时候可以抛出来你的链接，瞅瞅这，哈哈。&lt;/li&gt;
&lt;li&gt;。。。无量好处。。。&lt;/li&gt;
&lt;/ol&gt;
&lt;h4&gt;个人博客 - Mark - 搭建开始&lt;/h4&gt;
    
    </summary>
    
    
      <category term="HEXO" scheme="https://cl9000.github.io/categories/HEXO/"/>
    
    
      <category term="HEXO" scheme="https://cl9000.github.io/tags/HEXO/"/>
    
  </entry>
  
  <entry>
    <title>hexo个人博客迁移问题</title>
    <link href="https://cl9000.github.io/2017/02/09/HEXO%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/"/>
    <id>https://cl9000.github.io/2017/02/09/HEXO%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E8%BF%81%E7%A7%BB/</id>
    <published>2017-02-09T01:52:22.000Z</published>
    <updated>2020-03-06T14:54:17.661Z</updated>
    
    <content type="html"><![CDATA[<p><img src="http://ol3jdapgi.bkt.clouddn.com/17-2-9/24280659-file_1486626295354_c2f2.jpg" alt></p><h4><span id="关于博客的迁移问题">关于博客的迁移问题</span></h4><blockquote><p>如果你换电脑、或重装hexo，想把之前的博客迁移到新的电脑。。。或新的文件夹里。<br>只需要执行几个简单的命令即可， 首先你的github上要有你的博客托管， 那么继续向下看</p></blockquote><blockquote><p>步骤</p></blockquote><a id="more"></a><p>1、 把github上的博客仓库 <strong>clone</strong> 到本地的某个文件夹如:myBlog<br>2、cd到该文件夹执行以下命令：</p><figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo </span><br><span class="line">npm <span class="keyword">install</span> </span><br><span class="line">npm <span class="keyword">install</span> hexo-deployer-git</span><br></pre></td></tr></table></figure><p>需要重新安装hexo-server，hexo中没有自带,否则不存在次此命令 hexo s</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> hexo-<span class="keyword">server</span> <span class="comment">--save</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;img src=&quot;http://ol3jdapgi.bkt.clouddn.com/17-2-9/24280659-file_1486626295354_c2f2.jpg&quot; alt&gt;&lt;/p&gt;
&lt;h4&gt;关于博客的迁移问题&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;如果你换电脑、或重装hexo，想把之前的博客迁移到新的电脑。。。或新的文件夹里。&lt;br&gt;
只需要执行几个简单的命令即可， 首先你的github上要有你的博客托管， 那么继续向下看&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;步骤&lt;/p&gt;
&lt;/blockquote&gt;
    
    </summary>
    
    
      <category term="HEXO" scheme="https://cl9000.github.io/categories/HEXO/"/>
    
    
      <category term="HEXO" scheme="https://cl9000.github.io/tags/HEXO/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="https://cl9000.github.io/2017/02/09/hello-world/"/>
    <id>https://cl9000.github.io/2017/02/09/hello-world/</id>
    <published>2017-02-09T00:52:22.000Z</published>
    <updated>2020-03-06T15:04:29.932Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2><span id="quick-start">Quick Start</span></h2><h3><span id="create-a-new-post">Create a new post</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><a id="more"></a><h3><span id="run-server">Run server</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3><span id="generate-static-files">Generate static files</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3><span id="deploy-to-remote-sites">Deploy to remote sites</span></h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;/p&gt;
&lt;h2&gt;Quick Start&lt;/h2&gt;
&lt;h3&gt;Create a new post&lt;/h3&gt;
&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;$ hexo new &lt;span class=&quot;string&quot;&gt;&quot;My New Post&quot;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;More info: &lt;a href=&quot;https://hexo.io/docs/writing.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Writing&lt;/a&gt;&lt;/p&gt;
    
    </summary>
    
    
      <category term="🇨🇳🇬🇧" scheme="https://cl9000.github.io/categories/%F0%9F%87%A8%F0%9F%87%B3%F0%9F%87%AC%F0%9F%87%A7/"/>
    
    
      <category term="🇨🇳" scheme="https://cl9000.github.io/tags/%F0%9F%87%A8%F0%9F%87%B3/"/>
    
      <category term="🇬🇧" scheme="https://cl9000.github.io/tags/%F0%9F%87%AC%F0%9F%87%A7/"/>
    
  </entry>
  
</feed>
